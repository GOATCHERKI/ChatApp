import{$ as uo,A as Tr,Aa as Qr,Ba as Kr,C as Mr,D as Dr,E as Ir,F as Ye,G as tt,H as Rr,I as Or,J as Ar,K as ao,L as Yt,M as Qe,N as di,O as ui,P as mi,Q as hi,R as co,S as un,T as Pr,U as Oi,V as Lr,W as mn,X as hn,Y as Nr,Z as lo,_ as Ke,a as ai,aa as mo,b as hr,ba as pi,c as pr,ca as fi,d as fr,da as Fr,e as gr,f as ci,g as cn,ga as Br,h as _r,ha as jr,i as br,ia as Vr,ja as pn,k as vr,ka as Hr,l as yr,la as gi,m as ln,ma as Wr,na as Ur,o as Cr,oa as _i,q as kr,qa as Gr,r as et,ra as bi,s as wr,t as xr,ta as zr,u as dn,v as Sr,va as vi,w as Er,wa as $r,x as so,xa as qr,y as Zt,ya as Zr,z as li,za as Yr}from"./chunk-KYQ2JXR3.js";import{$a as en,$b as Tt,A as Ue,Aa as Bt,Ab as pe,Ba as ir,Bb as lr,Cb as xt,Db as St,Eb as m,Fb as f,G as Ae,Ga as Ve,Gb as V,Hb as sn,Ib as Te,Ja as nr,Jb as an,La as oi,Mb as q,Nb as E,Ob as ct,Pb as We,Qb as gt,R as st,Rb as Be,S as at,Sb as be,T as Nt,Tb as ve,W as Ft,Wb as Vt,X as Qo,Xa as $e,Xb as k,Y as Ko,Yb as Le,Z as Ge,Za as y,Zb as Me,_ as je,_b as Et,a as P,aa as ie,ab as or,ac as Mt,b as Oe,bb as jt,c as ti,ca as oo,cb as Ri,cc as qt,da as h,db as rr,dc as qe,e as Qi,ea as Xi,eb as sr,ec as Ht,fc as si,g as Ki,gc as dr,ia as ro,j as le,ja as Y,jb as X,jc as ur,ka as Q,kb as He,la as $t,lb as ri,lc as mr,ma as Xo,mc as Ze,n as Ii,na as Jo,nb as tn,ob as K,pa as ze,pc as fe,qa as Ji,qc as _t,r as Lt,rb as ar,sa as er,tb as nn,ua as Fe,ub as he,va as ft,vb as $,w as ii,wb as on,xb as xe,y as pt,ya as Pe,yb as rn,z as ni,za as tr,zb as cr}from"./chunk-5GM2P44B.js";var ta="@",ia=(()=>{class o{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=h(ze);loadingSchedulerFn=h(na,{optional:!0});_engine;constructor(e,i,n,r,s){this.doc=e,this.delegate=i,this.zone=n,this.animationType=r,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-LEXTEY2F.js").then(n=>n),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(n=>{throw new Ft(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:r})=>{this._engine=n(this.animationType,this.doc);let s=new r(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,i){let n=this.delegate.createRenderer(e,i);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let r=new ho(n);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(e,i);r.use(a),this.scheduler??=this.injector.get(er,null,{optional:!0}),this.scheduler?.notify(10)}).catch(s=>{r.use(n)}),r}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(i){rr()};static \u0275prov=Ge({token:o,factory:o.\u0275fac})}return o})(),ho=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,n){this.delegate.insertBefore(t,e,i,n)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,n){this.delegate.setAttribute(t,e,i,n)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,n){this.delegate.setStyle(t,e,i,n)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(n=>n.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,n){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,i,n)),this.delegate.listen(t,e,i,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(ta)}},na=new ie("");function Xr(o="animations"){return nr("NgAsyncAnimations"),Xi([{provide:or,useFactory:(t,e,i)=>new ia(t,e,i,o),deps:[ai,_r,ft]},{provide:Ve,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var po=(o,t)=>!h(et).isLoggedIn();var oa=["mat-menu-item",""],ra=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],sa=["mat-icon, [matMenuItemIcon]","*"];function aa(o,t){o&1&&($t(),m(0,"svg",2),V(1,"polygon",3),f())}var ca=["*"];function la(o,t){if(o&1){let e=Te();m(0,"div",0),q("click",function(){Y(e);let n=E();return Q(n.closed.emit("click"))})("animationstart",function(n){Y(e);let r=E();return Q(r._onAnimationStart(n.animationName))})("animationend",function(n){Y(e);let r=E();return Q(r._onAnimationDone(n.animationName))})("animationcancel",function(n){Y(e);let r=E();return Q(r._onAnimationDone(n.animationName))}),m(1,"div",1),We(2),f()()}if(o&2){let e=E();rn(e._classList),xe("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation",e._panelAnimationState==="void")("mat-menu-panel-animating",e._isAnimating),$("id",e.panelId),he("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var go=new ie("MAT_MENU_PANEL"),Qt=(()=>{class o{_elementRef=h(Pe);_document=h(ai);_focusMonitor=h(Zt);_parentMenu=h(go,{optional:!0});_changeDetectorRef=h(Ze);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new le;_focused=new le;_highlighted=!1;_triggersSubmenu=!1;constructor(){h(li).load(mi),this._parentMenu?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let n=0;n<i.length;n++)i[n].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=X({type:o,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(i,n){i&1&&q("click",function(s){return n._checkDisabled(s)})("mouseenter",function(){return n._handleMouseEnter()}),i&2&&(he("role",n.role)("tabindex",n._getTabIndex())("aria-disabled",n.disabled)("disabled",n.disabled||null),xe("mat-mdc-menu-item-highlighted",n._highlighted)("mat-mdc-menu-item-submenu-trigger",n._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",fe],disableRipple:[2,"disableRipple","disableRipple",fe]},exportAs:["matMenuItem"],attrs:oa,ngContentSelectors:sa,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,n){i&1&&(ct(ra),We(0),m(1,"span",0),We(2,1),f(),V(3,"div",1),K(4,aa,2,0,":svg:svg",2)),i&2&&(y(3),$("matRippleDisabled",n.disableRipple||n.disabled)("matRippleTrigger",n._getHostElement()),y(),pe(n._triggersSubmenu?4:-1))},dependencies:[hi],encapsulation:2,changeDetection:0})}return o})();var da=new ie("MatMenuContent");var ua=new ie("mat-menu-default-options",{providedIn:"root",factory:ma});function ma(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var fo="_mat-menu-enter",fn="_mat-menu-exit",Wt=(()=>{class o{_elementRef=h(Pe);_changeDetectorRef=h(Ze);_injector=h(ze);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled;_allItems;_directDescendantItems=new ir;_classList={};_panelAnimationState="void";_animationDone=new le;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let i=this._previousPanelClass,n=P({},this._classList);i&&i.length&&i.split(" ").forEach(r=>{n[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{n[r]=!0}),this._elementRef.nativeElement.className=""),this._classList=n}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new Fe;close=this.closed;panelId=h(Ye).getId("mat-menu-panel-");constructor(){let e=h(ua);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop,this._animationsDisabled=h(Ve,{optional:!0})==="NoopAnimations"}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Or(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(st(this._directDescendantItems),at(e=>pt(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let i=this._keyManager;if(this._panelAnimationState==="enter"&&i.activeItem?._hasFocus()){let n=e.toArray(),r=Math.max(0,Math.min(n.length-1,i.activeItemIndex||0));n[r]&&!n[r].disabled?i.setActiveItem(r):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(st(this._directDescendantItems),at(i=>pt(...i.map(n=>n._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let i=e.keyCode,n=this._keyManager;switch(i){case 27:tt(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(i===38||i===40)&&n.setFocusOrigin("keyboard"),n.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=oi(()=>{let i=this._resolvePanel();if(!i||!i.contains(document.activeElement)){let n=this._keyManager;n.setFocusOrigin(e).setFirstItemActive(),!n.activeItem&&i&&i.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,i=this.yPosition){this._classList=Oe(P({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":i==="above","mat-menu-below":i==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(e){let i=e===fn;(i||e===fo)&&(i&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(i?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(e){(e===fo||e===fn)&&(this._isAnimating=!0)}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(this._keyManager.activeItemIndex===0){let i=this._resolvePanel();i&&(i.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(fn),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?fo:fn)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(st(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=X({type:o,selectors:[["mat-menu"]],contentQueries:function(i,n,r){if(i&1&&(gt(r,da,5),gt(r,Qt,5),gt(r,Qt,4)),i&2){let s;be(s=ve())&&(n.lazyContent=s.first),be(s=ve())&&(n._allItems=s),be(s=ve())&&(n.items=s)}},viewQuery:function(i,n){if(i&1&&Be(en,5),i&2){let r;be(r=ve())&&(n.templateRef=r.first)}},hostVars:3,hostBindings:function(i,n){i&2&&he("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",fe],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:fe(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[qt([{provide:go,useExisting:o}])],ngContentSelectors:ca,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(i,n){i&1&&(ct(),K(0,la,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return o})(),Jr=new ie("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let o=h(Ke);return()=>o.scrollStrategies.reposition()}});function ha(o){return()=>o.scrollStrategies.reposition()}var pa={provide:Jr,deps:[Ke],useFactory:ha},fa={passive:!0};var Ai=new WeakMap,yn=(()=>{class o{_overlay=h(Ke);_element=h(Pe);_viewContainerRef=h(sr);_menuItemInstance=h(Qt,{optional:!0,self:!0});_dir=h(Yt,{optional:!0});_focusMonitor=h(Zt);_ngZone=h(ft);_scrollStrategy=h(Jr);_changeDetectorRef=h(Ze);_cleanupTouchstart;_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=Qi.EMPTY;_hoverSubscription=Qi.EMPTY;_menuCloseSubscription=Qi.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),(i==="click"||i==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new Fe;onMenuOpen=this.menuOpened;menuClosed=new Fe;onMenuClose=this.menuClosed;constructor(){let e=h(go,{optional:!0}),i=h(jt);this._parentMaterialMenu=e instanceof Wt?e:void 0,this._cleanupTouchstart=Sr(i,this._element.nativeElement,"touchstart",n=>{xr(n)||(this._openedBy="touch")},fa)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&Ai.delete(this.menu),this._cleanupTouchstart(),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;this._pendingRemoval?.unsubscribe();let i=Ai.get(e);Ai.set(e,this),i&&i!==this&&i.closeMenu();let n=this._createOverlay(e),r=n.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,n.hasAttached()||(n.attach(this._getPortal(e)),e.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),e instanceof Wt&&(e._setIsOpen(!0),e._directDescendantItems.changes.pipe(Nt(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){let i=this._overlayRef,n=this._menu;!i||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),n instanceof Wt&&this._ownsMenu(n)?(this._pendingRemoval=n._animationDone.pipe(Ae(1)).subscribe(()=>{i.detach(),n.lazyContent?.detach()}),n._setIsOpen(!1)):(i.detach(),n?.lazyContent?.detach()),n&&this._ownsMenu(n)&&Ai.delete(n),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe(n=>{this.menu instanceof Wt&&this.menu._handleKeydown(n)})}return this._overlayRef}_getOverlayConfig(e){return new hn({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr"})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(n=>{this._ngZone.run(()=>{let r=n.connectionPair.overlayX==="start"?"after":"before",s=n.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(r,s)})})}_setPosition(e,i){let[n,r]=e.xPosition==="before"?["end","start"]:["start","end"],[s,a]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[d,_]=[s,a],[g,x]=[n,r],A=0;if(this.triggersSubmenu()){if(x=n=e.xPosition==="before"?"start":"end",r=g=n==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let J=this._parentMaterialMenu.items.first;this._parentInnerPadding=J?J._getHostElement().offsetTop:0}A=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(d=s==="top"?"bottom":"top",_=a==="top"?"bottom":"top");i.withPositions([{originX:n,originY:d,overlayX:g,overlayY:s,offsetY:A},{originX:r,originY:d,overlayX:x,overlayY:s,offsetY:A},{originX:n,originY:_,overlayX:g,overlayY:a,offsetY:-A},{originX:r,originY:_,overlayX:x,overlayY:a,offsetY:-A}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),n=this._parentMaterialMenu?this._parentMaterialMenu.closed:Ii(),r=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Ue(s=>this._menuOpen&&s!==this._menuItemInstance)):Ii();return pt(e,n,r,i)}_handleMousedown(e){wr(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let i=e.keyCode;(i===13||i===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===39&&this.dir==="ltr"||i===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new un(e.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(e){return Ai.get(e)===this}static \u0275fac=function(i){return new(i||o)};static \u0275dir=ri({type:o,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(i,n){i&1&&q("click",function(s){return n._handleClick(s)})("mousedown",function(s){return n._handleMousedown(s)})("keydown",function(s){return n._handleKeydown(s)}),i&2&&he("aria-haspopup",n.menu?"menu":null)("aria-expanded",n.menuOpen)("aria-controls",n.menuOpen?n.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return o})(),Cn=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=He({type:o});static \u0275inj=je({providers:[pa],imports:[fi,Qe,pi,mn,Qe]})}return o})(),es={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},id=es.fadeInItems,nd=es.transformMenu;var Xe=class extends Error{constructor(t,e){let i=new.target.prototype;super(`${t}: Status code '${e}'`),this.statusCode=e,this.__proto__=i}},Ut=class extends Error{constructor(t="A timeout occurred."){let e=new.target.prototype;super(t),this.__proto__=e}},De=class extends Error{constructor(t="An abort occurred."){let e=new.target.prototype;super(t),this.__proto__=e}},kn=class extends Error{constructor(t,e){let i=new.target.prototype;super(t),this.transport=e,this.errorType="UnsupportedTransportError",this.__proto__=i}},wn=class extends Error{constructor(t,e){let i=new.target.prototype;super(t),this.transport=e,this.errorType="DisabledTransportError",this.__proto__=i}},xn=class extends Error{constructor(t,e){let i=new.target.prototype;super(t),this.transport=e,this.errorType="FailedToStartTransportError",this.__proto__=i}},Pi=class extends Error{constructor(t){let e=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=e}},Sn=class extends Error{constructor(t,e){let i=new.target.prototype;super(t),this.innerErrors=e,this.__proto__=i}};var wi=class{constructor(t,e,i){this.statusCode=t,this.statusText=e,this.content=i}},bt=class{get(t,e){return this.send(Oe(P({},e),{method:"GET",url:t}))}post(t,e){return this.send(Oe(P({},e),{method:"POST",url:t}))}delete(t,e){return this.send(Oe(P({},e),{method:"DELETE",url:t}))}getCookieString(t){return""}};var p=function(o){return o[o.Trace=0]="Trace",o[o.Debug=1]="Debug",o[o.Information=2]="Information",o[o.Warning=3]="Warning",o[o.Error=4]="Error",o[o.Critical=5]="Critical",o[o.None=6]="None",o}(p||{});var vt=class{constructor(){}log(t,e){}};vt.instance=new vt;var ga="8.0.7",oe=class{static isRequired(t,e){if(t==null)throw new Error(`The '${e}' argument is required.`)}static isNotEmpty(t,e){if(!t||t.match(/^\s*$/))throw new Error(`The '${e}' argument should not be empty.`)}static isIn(t,e,i){if(!(t in e))throw new Error(`Unknown ${i} value: ${t}.`)}},re=class o{static get isBrowser(){return!o.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!o.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!o.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}};function Gt(o,t){let e="";return lt(o)?(e=`Binary data of length ${o.byteLength}`,t&&(e+=`. Content: '${_a(o)}'`)):typeof o=="string"&&(e=`String data of length ${o.length}`,t&&(e+=`. Content: '${o}'`)),e}function _a(o){let t=new Uint8Array(o),e="";return t.forEach(i=>{let n=i<16?"0":"";e+=`0x${n}${i.toString(16)} `}),e.substr(0,e.length-1)}function lt(o){return o&&typeof ArrayBuffer<"u"&&(o instanceof ArrayBuffer||o.constructor&&o.constructor.name==="ArrayBuffer")}async function Tn(o,t,e,i,n,r){let s={},[a,d]=yt();s[a]=d,o.log(p.Trace,`(${t} transport) sending data. ${Gt(n,r.logMessageContent)}.`);let _=lt(n)?"arraybuffer":"text",g=await e.post(i,{content:n,headers:P(P({},s),r.headers),responseType:_,timeout:r.timeout,withCredentials:r.withCredentials});o.log(p.Trace,`(${t} transport) request complete. Response status: ${g.statusCode}.`)}function is(o){return o===void 0?new Kt(p.Information):o===null?vt.instance:o.log!==void 0?o:new Kt(o)}var En=class{constructor(t,e){this._subject=t,this._observer=e}dispose(){let t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(e=>{})}},Kt=class{constructor(t){this._minLevel=t,this.out=console}log(t,e){if(t>=this._minLevel){let i=`[${new Date().toISOString()}] ${p[t]}: ${e}`;switch(t){case p.Critical:case p.Error:this.out.error(i);break;case p.Warning:this.out.warn(i);break;case p.Information:this.out.info(i);break;default:this.out.log(i);break}}}};function yt(){let o="X-SignalR-User-Agent";return re.isNode&&(o="User-Agent"),[o,ba(ga,va(),Ca(),ya())]}function ba(o,t,e,i){let n="Microsoft SignalR/",r=o.split(".");return n+=`${r[0]}.${r[1]}`,n+=` (${o}; `,t&&t!==""?n+=`${t}; `:n+="Unknown OS; ",n+=`${e}`,i?n+=`; ${i}`:n+="; Unknown Runtime Version",n+=")",n}function va(){if(re.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function ya(){if(re.isNode)return process.versions.node}function Ca(){return re.isNode?"NodeJS":"Browser"}function Mn(o){return o.stack?o.stack:o.message?o.message:`${o}`}function ns(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}var Dn=class extends bt{constructor(t){if(super(),this._logger=t,typeof fetch>"u"||re.isNode){let e=typeof __webpack_require__=="function"?__non_webpack_require__:ti;this._jar=new(e("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=e("node-fetch"):this._fetchType=fetch,this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(ns());if(typeof AbortController>"u"){let e=typeof __webpack_require__=="function"?__non_webpack_require__:ti;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}async send(t){if(t.abortSignal&&t.abortSignal.aborted)throw new De;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");let e=new this._abortControllerType,i;t.abortSignal&&(t.abortSignal.onabort=()=>{e.abort(),i=new De});let n=null;if(t.timeout){let d=t.timeout;n=setTimeout(()=>{e.abort(),this._logger.log(p.Warning,"Timeout from HTTP request."),i=new Ut},d)}t.content===""&&(t.content=void 0),t.content&&(t.headers=t.headers||{},lt(t.content)?t.headers["Content-Type"]="application/octet-stream":t.headers["Content-Type"]="text/plain;charset=UTF-8");let r;try{r=await this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:t.withCredentials===!0?"include":"same-origin",headers:P({"X-Requested-With":"XMLHttpRequest"},t.headers),method:t.method,mode:"cors",redirect:"follow",signal:e.signal})}catch(d){throw i||(this._logger.log(p.Warning,`Error from HTTP request. ${d}.`),d)}finally{n&&clearTimeout(n),t.abortSignal&&(t.abortSignal.onabort=null)}if(!r.ok){let d=await os(r,"text");throw new Xe(d||r.statusText,r.status)}let a=await os(r,t.responseType);return new wi(r.status,r.statusText,a)}getCookieString(t){let e="";return re.isNode&&this._jar&&this._jar.getCookies(t,(i,n)=>e=n.join("; ")),e}};function os(o,t){let e;switch(t){case"arraybuffer":e=o.arrayBuffer();break;case"text":e=o.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`);default:e=o.text();break}return e}var In=class extends bt{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new De):t.method?t.url?new Promise((e,i)=>{let n=new XMLHttpRequest;n.open(t.method,t.url,!0),n.withCredentials=t.withCredentials===void 0?!0:t.withCredentials,n.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.content===""&&(t.content=void 0),t.content&&(lt(t.content)?n.setRequestHeader("Content-Type","application/octet-stream"):n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));let r=t.headers;r&&Object.keys(r).forEach(s=>{n.setRequestHeader(s,r[s])}),t.responseType&&(n.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{n.abort(),i(new De)}),t.timeout&&(n.timeout=t.timeout),n.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),n.status>=200&&n.status<300?e(new wi(n.status,n.statusText,n.response||n.responseText)):i(new Xe(n.response||n.responseText||n.statusText,n.status))},n.onerror=()=>{this._logger.log(p.Warning,`Error from HTTP request. ${n.status}: ${n.statusText}.`),i(new Xe(n.statusText,n.status))},n.ontimeout=()=>{this._logger.log(p.Warning,"Timeout from HTTP request."),i(new Ut)},n.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}};var Rn=class extends bt{constructor(t){if(super(),typeof fetch<"u"||re.isNode)this._httpClient=new Dn(t);else if(typeof XMLHttpRequest<"u")this._httpClient=new In(t);else throw new Error("No usable HttpClient found.")}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new De):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}};var Je=class o{static write(t){return`${t}${o.RecordSeparator}`}static parse(t){if(t[t.length-1]!==o.RecordSeparator)throw new Error("Message is incomplete.");let e=t.split(o.RecordSeparator);return e.pop(),e}};Je.RecordSeparatorCode=30;Je.RecordSeparator=String.fromCharCode(Je.RecordSeparatorCode);var On=class{writeHandshakeRequest(t){return Je.write(JSON.stringify(t))}parseHandshakeResponse(t){let e,i;if(lt(t)){let a=new Uint8Array(t),d=a.indexOf(Je.RecordSeparatorCode);if(d===-1)throw new Error("Message is incomplete.");let _=d+1;e=String.fromCharCode.apply(null,Array.prototype.slice.call(a.slice(0,_))),i=a.byteLength>_?a.slice(_).buffer:null}else{let a=t,d=a.indexOf(Je.RecordSeparator);if(d===-1)throw new Error("Message is incomplete.");let _=d+1;e=a.substring(0,_),i=a.length>_?a.substring(_):null}let n=Je.parse(e),r=JSON.parse(n[0]);if(r.type)throw new Error("Expected a handshake response from the server.");return[i,r]}};var B=function(o){return o[o.Invocation=1]="Invocation",o[o.StreamItem=2]="StreamItem",o[o.Completion=3]="Completion",o[o.StreamInvocation=4]="StreamInvocation",o[o.CancelInvocation=5]="CancelInvocation",o[o.Ping=6]="Ping",o[o.Close=7]="Close",o[o.Ack=8]="Ack",o[o.Sequence=9]="Sequence",o}(B||{});var An=class{constructor(){this.observers=[]}next(t){for(let e of this.observers)e.next(t)}error(t){for(let e of this.observers)e.error&&e.error(t)}complete(){for(let t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new En(this,t)}};var Pn=class{constructor(t,e,i){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=e,this._bufferSize=i}async _send(t){let e=this._protocol.writeMessage(t),i=Promise.resolve();if(this._isInvocationMessage(t)){this._totalMessageCount++;let n=()=>{},r=()=>{};lt(e)?this._bufferedByteCount+=e.byteLength:this._bufferedByteCount+=e.length,this._bufferedByteCount>=this._bufferSize&&(i=new Promise((s,a)=>{n=s,r=a})),this._messages.push(new _o(e,this._totalMessageCount,n,r))}try{this._reconnectInProgress||await this._connection.send(e)}catch{this._disconnected()}await i}_ack(t){let e=-1;for(let i=0;i<this._messages.length;i++){let n=this._messages[i];if(n._id<=t.sequenceId)e=i,lt(n._message)?this._bufferedByteCount-=n._message.byteLength:this._bufferedByteCount-=n._message.length,n._resolver();else if(this._bufferedByteCount<this._bufferSize)n._resolver();else break}e!==-1&&(this._messages=this._messages.slice(e+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type!==B.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;let e=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,e<=this._latestReceivedSequenceId?(e===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=e,this._ackTimer(),!0)}_resetSequence(t){if(t.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){let t=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:B.Sequence,sequenceId:t}));let e=this._messages;for(let i of e)await this._connection.send(i._message);this._reconnectInProgress=!1}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(let e of this._messages)e._rejector(t)}_isInvocationMessage(t){switch(t.type){case B.Invocation:case B.StreamItem:case B.Completion:case B.StreamInvocation:case B.CancelInvocation:return!0;case B.Close:case B.Sequence:case B.Ping:case B.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:B.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}},_o=class{constructor(t,e,i,n){this._message=t,this._id=e,this._resolver=i,this._rejector=n}};var ka=30*1e3,wa=15*1e3,xa=1e5,de=function(o){return o.Disconnected="Disconnected",o.Connecting="Connecting",o.Connected="Connected",o.Disconnecting="Disconnecting",o.Reconnecting="Reconnecting",o}(de||{}),Li=class o{static create(t,e,i,n,r,s,a){return new o(t,e,i,n,r,s,a)}constructor(t,e,i,n,r,s,a){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(p.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},oe.isRequired(t,"connection"),oe.isRequired(e,"logger"),oe.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=r??ka,this.keepAliveIntervalInMilliseconds=s??wa,this._statefulReconnectBufferSize=a??xa,this._logger=e,this._protocol=i,this.connection=t,this._reconnectPolicy=n,this._handshakeProtocol=new On,this.connection.onreceive=d=>this._processIncomingData(d),this.connection.onclose=d=>this._connectionClosed(d),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=de.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:B.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==de.Disconnected&&this._connectionState!==de.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==de.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=de.Connecting,this._logger.log(p.Debug,"Starting HubConnection.");try{await this._startInternal(),re.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=de.Connected,this._connectionStarted=!0,this._logger.log(p.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=de.Disconnected,this._logger.log(p.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;let t=new Promise((e,i)=>{this._handshakeResolver=e,this._handshakeRejecter=i});await this.connection.start(this._protocol.transferFormat);try{let e=this._protocol.version;this.connection.features.reconnect||(e=1);let i={protocol:this._protocol.name,version:e};if(this._logger.log(p.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(i)),this._logger.log(p.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await t,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new Pn(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(e){throw this._logger.log(p.Debug,`Hub handshake failed with error '${e}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(e),e}}async stop(){let t=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await t}catch{}}_stopInternal(t){if(this._connectionState===de.Disconnected)return this._logger.log(p.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===de.Disconnecting)return this._logger.log(p.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;let e=this._connectionState;return this._connectionState=de.Disconnecting,this._logger.log(p.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(p.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(e===de.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new De("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(t,...e){let[i,n]=this._replaceStreamingParams(e),r=this._createStreamInvocation(t,e,n),s,a=new An;return a.cancelCallback=()=>{let d=this._createCancelInvocation(r.invocationId);return delete this._callbacks[r.invocationId],s.then(()=>this._sendWithProtocol(d))},this._callbacks[r.invocationId]=(d,_)=>{if(_){a.error(_);return}else d&&(d.type===B.Completion?d.error?a.error(new Error(d.error)):a.complete():a.next(d.item))},s=this._sendWithProtocol(r).catch(d=>{a.error(d),delete this._callbacks[r.invocationId]}),this._launchStreams(i,s),a}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...e){let[i,n]=this._replaceStreamingParams(e),r=this._sendWithProtocol(this._createInvocation(t,e,!0,n));return this._launchStreams(i,r),r}invoke(t,...e){let[i,n]=this._replaceStreamingParams(e),r=this._createInvocation(t,e,!1,n);return new Promise((a,d)=>{this._callbacks[r.invocationId]=(g,x)=>{if(x){d(x);return}else g&&(g.type===B.Completion?g.error?d(new Error(g.error)):a(g.result):d(new Error(`Unexpected message type: ${g.type}`)))};let _=this._sendWithProtocol(r).catch(g=>{d(g),delete this._callbacks[r.invocationId]});this._launchStreams(i,_)})}on(t,e){!t||!e||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),this._methods[t].indexOf(e)===-1&&this._methods[t].push(e))}off(t,e){if(!t)return;t=t.toLowerCase();let i=this._methods[t];if(i)if(e){let n=i.indexOf(e);n!==-1&&(i.splice(n,1),i.length===0&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){let e=this._protocol.parseMessages(t,this._logger);for(let i of e)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(i)))switch(i.type){case B.Invocation:this._invokeClientMethod(i).catch(n=>{this._logger.log(p.Error,`Invoke client method threw error: ${Mn(n)}`)});break;case B.StreamItem:case B.Completion:{let n=this._callbacks[i.invocationId];if(n){i.type===B.Completion&&delete this._callbacks[i.invocationId];try{n(i)}catch(r){this._logger.log(p.Error,`Stream callback threw error: ${Mn(r)}`)}}break}case B.Ping:break;case B.Close:{this._logger.log(p.Information,"Close message received from server.");let n=i.error?new Error("Server returned an error on close: "+i.error):void 0;i.allowReconnect===!0?this.connection.stop(n):this._stopPromise=this._stopInternal(n);break}case B.Ack:this._messageBuffer&&this._messageBuffer._ack(i);break;case B.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(i);break;default:this._logger.log(p.Warning,`Invalid message type: ${i.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let e,i;try{[i,e]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(n){let r="Error parsing handshake response: "+n;this._logger.log(p.Error,r);let s=new Error(r);throw this._handshakeRejecter(s),s}if(e.error){let n="Server returned handshake error: "+e.error;this._logger.log(p.Error,n);let r=new Error(n);throw this._handshakeRejecter(r),r}else this._logger.log(p.Debug,"Server handshake complete.");return this._handshakeResolver(),i}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let t=this._nextKeepAlive-new Date().getTime();t<0&&(t=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===de.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},t)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(t){let e=t.target.toLowerCase(),i=this._methods[e];if(!i){this._logger.log(p.Warning,`No client method with the name '${e}' found.`),t.invocationId&&(this._logger.log(p.Warning,`No result given for '${e}' method and invocation ID '${t.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)));return}let n=i.slice(),r=!!t.invocationId,s,a,d;for(let _ of n)try{let g=s;s=await _.apply(this,t.arguments),r&&s&&g&&(this._logger.log(p.Error,`Multiple results provided for '${e}'. Sending error to server.`),d=this._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),a=void 0}catch(g){a=g,this._logger.log(p.Error,`A callback for the method '${e}' threw error '${g}'.`)}d?await this._sendWithProtocol(d):r?(a?d=this._createCompletionMessage(t.invocationId,`${a}`,null):s!==void 0?d=this._createCompletionMessage(t.invocationId,null,s):(this._logger.log(p.Warning,`No result given for '${e}' method and invocation ID '${t.invocationId}'.`),d=this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(d)):s&&this._logger.log(p.Error,`Result given for '${e}' method but server is not expecting a result.`)}_connectionClosed(t){this._logger.log(p.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new De("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===de.Disconnecting?this._completeClose(t):this._connectionState===de.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===de.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=de.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),re.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(e=>e.apply(this,[t]))}catch(e){this._logger.log(p.Error,`An onclose callback called with error '${t}' threw error '${e}'.`)}}}async _reconnect(t){let e=Date.now(),i=0,n=t!==void 0?t:new Error("Attempting to reconnect due to a unknown error."),r=this._getNextRetryDelay(i++,0,n);if(r===null){this._logger.log(p.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(t);return}if(this._connectionState=de.Reconnecting,t?this._logger.log(p.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(p.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(s=>s.apply(this,[t]))}catch(s){this._logger.log(p.Error,`An onreconnecting callback called with error '${t}' threw error '${s}'.`)}if(this._connectionState!==de.Reconnecting){this._logger.log(p.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;r!==null;){if(this._logger.log(p.Information,`Reconnect attempt number ${i} will start in ${r} ms.`),await new Promise(s=>{this._reconnectDelayHandle=setTimeout(s,r)}),this._reconnectDelayHandle=void 0,this._connectionState!==de.Reconnecting){this._logger.log(p.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=de.Connected,this._logger.log(p.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(s=>s.apply(this,[this.connection.connectionId]))}catch(s){this._logger.log(p.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${s}'.`)}return}catch(s){if(this._logger.log(p.Information,`Reconnect attempt failed because of error '${s}'.`),this._connectionState!==de.Reconnecting){this._logger.log(p.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===de.Disconnecting&&this._completeClose();return}n=s instanceof Error?s:new Error(s.toString()),r=this._getNextRetryDelay(i++,Date.now()-e,n)}}this._logger.log(p.Information,`Reconnect retries have been exhausted after ${Date.now()-e} ms and ${i} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(t,e,i){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:t,retryReason:i})}catch(n){return this._logger.log(p.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${e}) threw error '${n}'.`),null}}_cancelCallbacksWithError(t){let e=this._callbacks;this._callbacks={},Object.keys(e).forEach(i=>{let n=e[i];try{n(null,t)}catch(r){this._logger.log(p.Error,`Stream 'error' callback called with '${t}' threw error: ${Mn(r)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,e,i,n){if(i)return n.length!==0?{arguments:e,streamIds:n,target:t,type:B.Invocation}:{arguments:e,target:t,type:B.Invocation};{let r=this._invocationId;return this._invocationId++,n.length!==0?{arguments:e,invocationId:r.toString(),streamIds:n,target:t,type:B.Invocation}:{arguments:e,invocationId:r.toString(),target:t,type:B.Invocation}}}_launchStreams(t,e){if(t.length!==0){e||(e=Promise.resolve());for(let i in t)t[i].subscribe({complete:()=>{e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(i)))},error:n=>{let r;n instanceof Error?r=n.message:n&&n.toString?r=n.toString():r="Unknown error",e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(i,r)))},next:n=>{e=e.then(()=>this._sendWithProtocol(this._createStreamItemMessage(i,n)))}})}}_replaceStreamingParams(t){let e=[],i=[];for(let n=0;n<t.length;n++){let r=t[n];if(this._isObservable(r)){let s=this._invocationId;this._invocationId++,e[s]=r,i.push(s.toString()),t.splice(n,1)}}return[e,i]}_isObservable(t){return t&&t.subscribe&&typeof t.subscribe=="function"}_createStreamInvocation(t,e,i){let n=this._invocationId;return this._invocationId++,i.length!==0?{arguments:e,invocationId:n.toString(),streamIds:i,target:t,type:B.StreamInvocation}:{arguments:e,invocationId:n.toString(),target:t,type:B.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:B.CancelInvocation}}_createStreamItemMessage(t,e){return{invocationId:t,item:e,type:B.StreamItem}}_createCompletionMessage(t,e,i){return e?{error:e,invocationId:t,type:B.Completion}:{invocationId:t,result:i,type:B.Completion}}_createCloseMessage(){return{type:B.Close}}};var Sa=[0,2e3,1e4,3e4,null],Ni=class{constructor(t){this._retryDelays=t!==void 0?[...t,null]:Sa}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}};var Xt=(()=>{class o{}return o.Authorization="Authorization",o.Cookie="Cookie",o})();var Ln=class extends bt{constructor(t,e){super(),this._innerClient=t,this._accessTokenFactory=e}async send(t){let e=!0;this._accessTokenFactory&&(!this._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(e=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(t);let i=await this._innerClient.send(t);return e&&i.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(t),await this._innerClient.send(t)):i}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[Xt.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[Xt.Authorization]&&delete t.headers[Xt.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}};var Se=function(o){return o[o.None=0]="None",o[o.WebSockets=1]="WebSockets",o[o.ServerSentEvents=2]="ServerSentEvents",o[o.LongPolling=4]="LongPolling",o}(Se||{}),we=function(o){return o[o.Text=1]="Text",o[o.Binary=2]="Binary",o}(we||{});var Nn=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};var Fi=class{get pollAborted(){return this._pollAbort.aborted}constructor(t,e,i){this._httpClient=t,this._logger=e,this._pollAbort=new Nn,this._options=i,this._running=!1,this.onreceive=null,this.onclose=null}async connect(t,e){if(oe.isRequired(t,"url"),oe.isRequired(e,"transferFormat"),oe.isIn(e,we,"transferFormat"),this._url=t,this._logger.log(p.Trace,"(LongPolling transport) Connecting."),e===we.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");let[i,n]=yt(),r=P({[i]:n},this._options.headers),s={abortSignal:this._pollAbort.signal,headers:r,timeout:1e5,withCredentials:this._options.withCredentials};e===we.Binary&&(s.responseType="arraybuffer");let a=`${t}&_=${Date.now()}`;this._logger.log(p.Trace,`(LongPolling transport) polling: ${a}.`);let d=await this._httpClient.get(a,s);d.statusCode!==200?(this._logger.log(p.Error,`(LongPolling transport) Unexpected response code: ${d.statusCode}.`),this._closeError=new Xe(d.statusText||"",d.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,s)}async _poll(t,e){try{for(;this._running;)try{let i=`${t}&_=${Date.now()}`;this._logger.log(p.Trace,`(LongPolling transport) polling: ${i}.`);let n=await this._httpClient.get(i,e);n.statusCode===204?(this._logger.log(p.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):n.statusCode!==200?(this._logger.log(p.Error,`(LongPolling transport) Unexpected response code: ${n.statusCode}.`),this._closeError=new Xe(n.statusText||"",n.statusCode),this._running=!1):n.content?(this._logger.log(p.Trace,`(LongPolling transport) data received. ${Gt(n.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(n.content)):this._logger.log(p.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(i){this._running?i instanceof Ut?this._logger.log(p.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=i,this._running=!1):this._logger.log(p.Trace,`(LongPolling transport) Poll errored after shutdown: ${i.message}`)}}finally{this._logger.log(p.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(t){return this._running?Tn(this._logger,"LongPolling",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(p.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(p.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);let t={},[e,i]=yt();t[e]=i;let n={headers:P(P({},t),this._options.headers),timeout:this._options.timeout,withCredentials:this._options.withCredentials},r;try{await this._httpClient.delete(this._url,n)}catch(s){r=s}r?r instanceof Xe&&(r.statusCode===404?this._logger.log(p.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(p.Trace,`(LongPolling transport) Error sending a DELETE request: ${r}`)):this._logger.log(p.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(p.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(p.Trace,t),this.onclose(this._closeError)}}};var Fn=class{constructor(t,e,i,n){this._httpClient=t,this._accessToken=e,this._logger=i,this._options=n,this.onreceive=null,this.onclose=null}async connect(t,e){return oe.isRequired(t,"url"),oe.isRequired(e,"transferFormat"),oe.isIn(e,we,"transferFormat"),this._logger.log(p.Trace,"(SSE transport) Connecting."),this._url=t,this._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((i,n)=>{let r=!1;if(e!==we.Text){n(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let s;if(re.isBrowser||re.isWebWorker)s=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{let a=this._httpClient.getCookieString(t),d={};d.Cookie=a;let[_,g]=yt();d[_]=g,s=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:P(P({},d),this._options.headers)})}try{s.onmessage=a=>{if(this.onreceive)try{this._logger.log(p.Trace,`(SSE transport) data received. ${Gt(a.data,this._options.logMessageContent)}.`),this.onreceive(a.data)}catch(d){this._close(d);return}},s.onerror=a=>{r?this._close():n(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},s.onopen=()=>{this._logger.log(p.Information,`SSE connected to ${this._url}`),this._eventSource=s,r=!0,i()}}catch(a){n(a);return}})}async send(t){return this._eventSource?Tn(this._logger,"SSE",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}};var Bn=class{constructor(t,e,i,n,r,s){this._logger=i,this._accessTokenFactory=e,this._logMessageContent=n,this._webSocketConstructor=r,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=s}async connect(t,e){oe.isRequired(t,"url"),oe.isRequired(e,"transferFormat"),oe.isIn(e,we,"transferFormat"),this._logger.log(p.Trace,"(WebSockets transport) Connecting.");let i;return this._accessTokenFactory&&(i=await this._accessTokenFactory()),new Promise((n,r)=>{t=t.replace(/^http/,"ws");let s,a=this._httpClient.getCookieString(t),d=!1;if(re.isNode||re.isReactNative){let _={},[g,x]=yt();_[g]=x,i&&(_[Xt.Authorization]=`Bearer ${i}`),a&&(_[Xt.Cookie]=a),s=new this._webSocketConstructor(t,void 0,{headers:P(P({},_),this._headers)})}else i&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(i)}`);s||(s=new this._webSocketConstructor(t)),e===we.Binary&&(s.binaryType="arraybuffer"),s.onopen=_=>{this._logger.log(p.Information,`WebSocket connected to ${t}.`),this._webSocket=s,d=!0,n()},s.onerror=_=>{let g=null;typeof ErrorEvent<"u"&&_ instanceof ErrorEvent?g=_.error:g="There was an error with the transport",this._logger.log(p.Information,`(WebSockets transport) ${g}.`)},s.onmessage=_=>{if(this._logger.log(p.Trace,`(WebSockets transport) data received. ${Gt(_.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(_.data)}catch(g){this._close(g);return}},s.onclose=_=>{if(d)this._close(_);else{let g=null;typeof ErrorEvent<"u"&&_ instanceof ErrorEvent?g=_.error:g="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",r(new Error(g))}}})}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(p.Trace,`(WebSockets transport) sending data. ${Gt(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(p.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(t)&&(t.wasClean===!1||t.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)):t instanceof Error?this.onclose(t):this.onclose())}_isCloseEvent(t){return t&&typeof t.wasClean=="boolean"&&typeof t.code=="number"}};var rs=100,jn=class{constructor(t,e={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,oe.isRequired(t,"url"),this._logger=is(e.logger),this.baseUrl=this._resolveUrl(t),e=e||{},e.logMessageContent=e.logMessageContent===void 0?!1:e.logMessageContent,typeof e.withCredentials=="boolean"||e.withCredentials===void 0)e.withCredentials=e.withCredentials===void 0?!0:e.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");e.timeout=e.timeout===void 0?100*1e3:e.timeout;let i=null,n=null;if(re.isNode&&typeof ti<"u"){let r=typeof __webpack_require__=="function"?__non_webpack_require__:ti;i=r("ws"),n=r("eventsource")}!re.isNode&&typeof WebSocket<"u"&&!e.WebSocket?e.WebSocket=WebSocket:re.isNode&&!e.WebSocket&&i&&(e.WebSocket=i),!re.isNode&&typeof EventSource<"u"&&!e.EventSource?e.EventSource=EventSource:re.isNode&&!e.EventSource&&typeof n<"u"&&(e.EventSource=n),this._httpClient=new Ln(e.httpClient||new Rn(this._logger),e.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=e,this.onreceive=null,this.onclose=null}async start(t){if(t=t||we.Binary,oe.isIn(t,we,"transferFormat"),this._logger.log(p.Debug,`Starting connection with transfer format '${we[t]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),await this._startInternalPromise,this._connectionState==="Disconnecting"){let e="Failed to start the HttpConnection before stop() was called.";return this._logger.log(p.Error,e),await this._stopPromise,Promise.reject(new De(e))}else if(this._connectionState!=="Connected"){let e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(p.Error,e),Promise.reject(new De(e))}this._connectionStarted=!0}send(t){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new bo(this.transport)),this._sendQueue.send(t))}async stop(t){if(this._connectionState==="Disconnected")return this._logger.log(p.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(p.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(e=>{this._stopPromiseResolver=e}),await this._stopInternal(t),await this._stopPromise}async _stopInternal(t){this._stopError=t;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(e){this._logger.log(p.Error,`HttpConnection.transport.stop() threw error '${e}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(p.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(t){let e=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===Se.WebSockets)this.transport=this._constructTransport(Se.WebSockets),await this._startTransport(e,t);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let i=null,n=0;do{if(i=await this._getNegotiationResponse(e),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new De("The connection was stopped during negotiation.");if(i.error)throw new Error(i.error);if(i.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(i.url&&(e=i.url),i.accessToken){let r=i.accessToken;this._accessTokenFactory=()=>r,this._httpClient._accessToken=r,this._httpClient._accessTokenFactory=void 0}n++}while(i.url&&n<rs);if(n===rs&&i.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(e,this._options.transport,i,t)}this.transport instanceof Fi&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(p.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(i){return this._logger.log(p.Error,"Failed to start the connection: "+i),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(i)}}async _getNegotiationResponse(t){let e={},[i,n]=yt();e[i]=n;let r=this._resolveNegotiateUrl(t);this._logger.log(p.Debug,`Sending negotiation request: ${r}.`);try{let s=await this._httpClient.post(r,{content:"",headers:P(P({},e),this._options.headers),timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(s.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${s.statusCode}'`));let a=JSON.parse(s.content);return(!a.negotiateVersion||a.negotiateVersion<1)&&(a.connectionToken=a.connectionId),a.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new Pi("Client didn't negotiate Stateful Reconnect but the server did.")):a}catch(s){let a="Failed to complete negotiation with the server: "+s;return s instanceof Xe&&s.statusCode===404&&(a=a+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(p.Error,a),Promise.reject(new Pi(a))}}_createConnectUrl(t,e){return e?t+(t.indexOf("?")===-1?"?":"&")+`id=${e}`:t}async _createTransport(t,e,i,n){let r=this._createConnectUrl(t,i.connectionToken);if(this._isITransport(e)){this._logger.log(p.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=e,await this._startTransport(r,n),this.connectionId=i.connectionId;return}let s=[],a=i.availableTransports||[],d=i;for(let _ of a){let g=this._resolveTransportOrError(_,e,n,d?.useStatefulReconnect===!0);if(g instanceof Error)s.push(`${_.transport} failed:`),s.push(g);else if(this._isITransport(g)){if(this.transport=g,!d){try{d=await this._getNegotiationResponse(t)}catch(x){return Promise.reject(x)}r=this._createConnectUrl(t,d.connectionToken)}try{await this._startTransport(r,n),this.connectionId=d.connectionId;return}catch(x){if(this._logger.log(p.Error,`Failed to start the transport '${_.transport}': ${x}`),d=void 0,s.push(new xn(`${_.transport} failed: ${x}`,Se[_.transport])),this._connectionState!=="Connecting"){let A="Failed to select transport before stop() was called.";return this._logger.log(p.Debug,A),Promise.reject(new De(A))}}}}return s.length>0?Promise.reject(new Sn(`Unable to connect to the server with any of the available transports. ${s.join(" ")}`,s)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(t){switch(t){case Se.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new Bn(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Se.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new Fn(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Se.LongPolling:return new Fi(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,e){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async i=>{let n=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(t,e),await this.features.resend()}catch{n=!0}else{this._stopConnection(i);return}n&&this._stopConnection(i)}:this.transport.onclose=i=>this._stopConnection(i),this.transport.connect(t,e)}_resolveTransportOrError(t,e,i,n){let r=Se[t.transport];if(r==null)return this._logger.log(p.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(Ea(e,r))if(t.transferFormats.map(a=>we[a]).indexOf(i)>=0){if(r===Se.WebSockets&&!this._options.WebSocket||r===Se.ServerSentEvents&&!this._options.EventSource)return this._logger.log(p.Debug,`Skipping transport '${Se[r]}' because it is not supported in your environment.'`),new kn(`'${Se[r]}' is not supported in your environment.`,r);this._logger.log(p.Debug,`Selecting transport '${Se[r]}'.`);try{return this.features.reconnect=r===Se.WebSockets?n:void 0,this._constructTransport(r)}catch(a){return a}}else return this._logger.log(p.Debug,`Skipping transport '${Se[r]}' because it does not support the requested transfer format '${we[i]}'.`),new Error(`'${Se[r]}' does not support ${we[i]}.`);else return this._logger.log(p.Debug,`Skipping transport '${Se[r]}' because it was disabled by the client.`),new wn(`'${Se[r]}' is disabled by the client.`,r)}_isITransport(t){return t&&typeof t=="object"&&"connect"in t}_stopConnection(t){if(this._logger.log(p.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(p.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(p.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),t?this._logger.log(p.Error,`Connection disconnected with error '${t}'.`):this._logger.log(p.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(e=>{this._logger.log(p.Error,`TransportSendQueue.stop() threw error '${e}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(e){this._logger.log(p.Error,`HttpConnection.onclose(${t}) threw error '${e}'.`)}}}_resolveUrl(t){if(t.lastIndexOf("https://",0)===0||t.lastIndexOf("http://",0)===0)return t;if(!re.isBrowser)throw new Error(`Cannot resolve '${t}'.`);let e=window.document.createElement("a");return e.href=t,this._logger.log(p.Information,`Normalizing '${t}' to '${e.href}'.`),e.href}_resolveNegotiateUrl(t){let e=new URL(t);e.pathname.endsWith("/")?e.pathname+="negotiate":e.pathname+="/negotiate";let i=new URLSearchParams(e.searchParams);return i.has("negotiateVersion")||i.append("negotiateVersion",this._negotiateVersion.toString()),i.has("useStatefulReconnect")?i.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&i.append("useStatefulReconnect","true"),e.search=i.toString(),e.toString()}};function Ea(o,t){return!o||(t&o)!==0}var bo=class o{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new xi,this._transportResult=new xi,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new xi),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new xi;let t=this._transportResult;this._transportResult=void 0;let e=typeof this._buffer[0]=="string"?this._buffer.join(""):o._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(e),t.resolve()}catch(i){t.reject(i)}}}static _concatBuffers(t){let e=t.map(r=>r.byteLength).reduce((r,s)=>r+s),i=new Uint8Array(e),n=0;for(let r of t)i.set(new Uint8Array(r),n),n+=r.byteLength;return i.buffer}},xi=class{constructor(){this.promise=new Promise((t,e)=>[this._resolver,this._rejecter]=[t,e])}resolve(){this._resolver()}reject(t){this._rejecter(t)}};var Ta="json",Vn=class{constructor(){this.name=Ta,this.version=2,this.transferFormat=we.Text}parseMessages(t,e){if(typeof t!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];e===null&&(e=vt.instance);let i=Je.parse(t),n=[];for(let r of i){let s=JSON.parse(r);if(typeof s.type!="number")throw new Error("Invalid payload.");switch(s.type){case B.Invocation:this._isInvocationMessage(s);break;case B.StreamItem:this._isStreamItemMessage(s);break;case B.Completion:this._isCompletionMessage(s);break;case B.Ping:break;case B.Close:break;case B.Ack:this._isAckMessage(s);break;case B.Sequence:this._isSequenceMessage(s);break;default:e.log(p.Information,"Unknown message type '"+s.type+"' ignored.");continue}n.push(s)}return n}writeMessage(t){return Je.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),t.invocationId!==void 0&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),t.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,e){if(typeof t!="string"||t==="")throw new Error(e)}};var Ma={trace:p.Trace,debug:p.Debug,info:p.Information,information:p.Information,warn:p.Warning,warning:p.Warning,error:p.Error,critical:p.Critical,none:p.None};function Da(o){let t=Ma[o.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${o}`)}var Bi=class{configureLogging(t){if(oe.isRequired(t,"logging"),Ia(t))this.logger=t;else if(typeof t=="string"){let e=Da(t);this.logger=new Kt(e)}else this.logger=new Kt(t);return this}withUrl(t,e){return oe.isRequired(t,"url"),oe.isNotEmpty(t,"url"),this.url=t,typeof e=="object"?this.httpConnectionOptions=P(P({},this.httpConnectionOptions),e):this.httpConnectionOptions=Oe(P({},this.httpConnectionOptions),{transport:e}),this}withHubProtocol(t){return oe.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new Ni(t):this.reconnectPolicy=t:this.reconnectPolicy=new Ni,this}withServerTimeout(t){return oe.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return oe.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t?.bufferSize,this}build(){let t=this.httpConnectionOptions||{};if(t.logger===void 0&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");let e=new jn(this.url,t);return Li.create(e,this.logger||vt.instance,this.protocol||new Vn,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}};function Ia(o){return o.log!==void 0}var dt=class o{authService=h(et);hubUrl=`${kr.baseUrl}/hubs/chat`;onlineUsers=Bt([]);currentOpenedChat=Bt(null);chatMessages=Bt([]);isLoading=Bt(!0);currentOpenedGroup=Bt(null);hubConnection;startConnection(t,e,i){this.hubConnection=new Bi().withUrl(`${this.hubUrl}?senderId=${e||""}`,{accessTokenFactory:()=>t}).withAutomaticReconnect().build(),this.hubConnection.start().then(()=>{console.log("Hub connection started"),i&&i()}).catch(n=>{console.error("Error while starting hub connection:",n)}),this.hubConnection.on("Notify",n=>{Notification.requestPermission().then(r=>{r==="granted"&&new Notification("Active now",{body:n.fullName+" is online",icon:n.profilePictureUrl})})}),this.hubConnection.on("OnlineUsers",n=>{console.log(n),this.onlineUsers.update(()=>n.filter(r=>r.userName!==this.authService.currentLoggedInUser.userName))}),this.hubConnection.on("ReceiveMessageList",n=>{this.chatMessages.update(r=>[...n,...r]),this.isLoading.update(()=>!1)}),this.hubConnection.on("ReceiveNewMessage",n=>{this.chatMessages.update(r=>[...r,n])}),this.hubConnection.on("MessageEdited",(n,r)=>{this.chatMessages.update(s=>s.map(a=>a.id===n?Oe(P({},a),{content:r}):a))}),this.hubConnection.on("GroupCreated",()=>{this.getMyGroups().then(n=>{})}),this.hubConnection.on("ReceiveGroupMessageList",n=>{this.chatMessages.set(n),this.isLoading.update(()=>!1)}),this.hubConnection.on("ReceiveNewGroupMessage",n=>{let r=this.currentOpenedGroup();r&&n.groupId===r.id&&this.chatMessages.update(s=>[...s,n])})}disConnectConnection(){this.hubConnection?.state==de.Connected&&this.hubConnection.stop().catch(t=>console.error(t))}sendMessage(t){this.chatMessages.update(e=>[...e,{content:t,senderId:this.authService.currentLoggedInUser.id,receiverId:this.currentOpenedChat()?.id,timestamp:new Date().toString(),isRead:!1,id:Date.now().toString()}]),this.hubConnection?.invoke("SendMessage",{receiverId:this.currentOpenedChat()?.id,content:t}).then(e=>{console.log("message sent successfully",e)}).catch(e=>{console.error("Error sending message:",e)})}status(t){return this.currentOpenedChat()?this.onlineUsers().find(n=>n.userName===t)?.isTyping?"Typing...":this.isUserOnline():"Offline"}isUserOnline(){return this.onlineUsers().find(e=>e.userName===this.currentOpenedChat()?.userName)?.isOnline?"Online":this.currentOpenedChat().userName}loadMessages(t){this.hubConnection?.invoke("LoadMessages",this.currentOpenedChat()?.id,t).then(()=>{this.isLoading.update(()=>!0)}).catch(e=>{console.error("Error loading messages:",e),this.isLoading.update(()=>!1)}).finally(()=>{this.isLoading.update(()=>!1)})}get filteredMessages(){let t=this.authService.currentLoggedInUser?.id,e=this.currentOpenedChat()?.id;return this.chatMessages().filter(i=>i.senderId===t&&i.receiverId===e||i.senderId===e&&i.receiverId===t)}deleteMessage(t){this.hubConnection?.invoke("DeleteMessage",t).then(()=>{this.chatMessages.update(e=>e.filter(i=>i.id!==t))}).catch(e=>{console.error("Error deleting message:",e)})}editMessage(t,e){this.hubConnection?.invoke("EditMessage",t,e).catch(i=>console.error("Error editing message:",i))}createGroup(t){this.hubConnection?.invoke("CreateGroup",t).then(()=>{console.log("Group creation requested")}).catch(e=>console.error("Error creating group:",e))}getMyGroups(){return this.hubConnection?.invoke("GetMyGroups")??Promise.resolve([])}loadGroupMessages(t,e){this.hubConnection?.invoke("LoadGroupMessages",t,e).then(()=>{this.isLoading.update(()=>!0)}).catch(i=>{console.error("Error loading group messages:",i),this.isLoading.update(()=>!1)}).finally(()=>{this.isLoading.update(()=>!1)})}sendGroupMessage(t){let e=this.currentOpenedGroup();e&&this.hubConnection?.invoke("SendGroupMessage",{groupId:e.id,content:t}).catch(i=>{console.error("Error sending group message:",i)})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=Ge({token:o,factory:o.\u0275fac,providedIn:"root"})};function Oa(o,t){}var zt=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var yo=(()=>{class o extends Pr{_elementRef=h(Pe);_focusTrapFactory=h(Dr);_config;_interactivityChecker=h(Mr);_ngZone=h(ft);_overlayRef=h(lo);_focusMonitor=h(Zt);_renderer=h(jt);_changeDetectorRef=h(Ze);_injector=h(ze);_platform=h(Er);_document=h(ai,{optional:!0});_portalOutlet;_focusTrapped=new le;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=h(zt,{optional:!0})||new zt,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}attachDomPortal=e=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{r(),s(),e.removeAttribute("tabindex")},r=this._renderer.listen(e,"blur",n),s=this._renderer.listen(e,"mousedown",n)})),e.focus(i)}_focusByCssSelector(e,i){let n=this._elementRef.nativeElement.querySelector(e);n&&this._forceFocus(n,i)}_trapFocus(e){this._isDestroyed||oi(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,i=null;if(typeof e=="string"?i=this._document.querySelector(e):typeof e=="boolean"?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&typeof i.focus=="function"){let n=dn(),r=this._elementRef.nativeElement;(!n||n===this._document.body||n===r||r.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus(e)}_containsFocus(){let e=this._elementRef.nativeElement,i=dn();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=dn()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=X({type:o,selectors:[["cdk-dialog-container"]],viewQuery:function(i,n){if(i&1&&Be(Oi,7),i&2){let r;be(r=ve())&&(n._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,n){i&2&&he("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},features:[tn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,n){i&1&&K(0,Oa,0,0,"ng-template",0)},dependencies:[Oi],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return o})(),ji=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new le;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,e){this.overlayRef=t,this.config=e,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!tt(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(t,e){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},Aa=new ie("DialogScrollStrategy",{providedIn:"root",factory:()=>{let o=h(Ke);return()=>o.scrollStrategies.block()}}),Pa=new ie("DialogData"),La=new ie("DefaultDialogConfig");var ss=(()=>{class o{_overlay=h(Ke);_injector=h(ze);_defaultOptions=h(La,{optional:!0});_parentDialog=h(o,{optional:!0,skipSelf:!0});_overlayContainer=h(Nr);_idGenerator=h(Ye);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new le;_afterOpenedAtThisLevel=new le;_ariaHiddenElements=new Map;_scrollStrategy=h(Aa);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=ii(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(st(void 0)));constructor(){}open(e,i){let n=this._defaultOptions||new zt;i=P(P({},n),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let r=this._getOverlayConfig(i),s=this._overlay.create(r),a=new ji(s,i),d=this._attachContainer(s,a,i);if(a.containerInstance=d,!this.openDialogs.length){let _=this._overlayContainer.getContainerElement();d._focusTrapped?d._focusTrapped.pipe(Ae(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(_)}):this._hideNonDialogContentFromAssistiveTechnology(_)}return this._attachDialogContent(e,a,d,i),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){vo(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){vo(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),vo(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let i=new hn({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,n){let r=n.injector||n.viewContainerRef?.injector,s=[{provide:zt,useValue:n},{provide:ji,useValue:i},{provide:lo,useValue:e}],a;n.container?typeof n.container=="function"?a=n.container:(a=n.container.type,s.push(...n.container.providers(n))):a=yo;let d=new co(a,n.viewContainerRef,ze.create({parent:r||this._injector,providers:s}));return e.attach(d).instance}_attachDialogContent(e,i,n,r){if(e instanceof en){let s=this._createInjector(r,i,n,void 0),a={$implicit:r.data,dialogRef:i};r.templateContext&&(a=P(P({},a),typeof r.templateContext=="function"?r.templateContext():r.templateContext)),n.attachTemplatePortal(new un(e,null,a,s))}else{let s=this._createInjector(r,i,n,this._injector),a=n.attachComponentPortal(new co(e,r.viewContainerRef,s));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(e,i,n,r){let s=e.injector||e.viewContainerRef?.injector,a=[{provide:Pa,useValue:e.data},{provide:ji,useValue:i}];return e.providers&&(typeof e.providers=="function"?a.push(...e.providers(i,e,n)):a.push(...e.providers)),e.direction&&(!s||!s.get(Yt,null,{optional:!0}))&&a.push({provide:Yt,useValue:{value:e.direction,change:Ii()}}),ze.create({parent:s||r,providers:a})}_removeOpenDialog(e,i){let n=this.openDialogs.indexOf(e);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let i=e.parentElement.children;for(let n=i.length-1;n>-1;n--){let r=i[n];r!==e&&r.nodeName!=="SCRIPT"&&r.nodeName!=="STYLE"&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Ge({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function vo(o,t){let e=o.length;for(;e--;)t(o[e])}function Na(o,t){}var Hi=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},Co="mdc-dialog--open",as="mdc-dialog--opening",cs="mdc-dialog--closing",Fa=150,Ba=75,us=(()=>{class o extends yo{_animationMode=h(Ve,{optional:!0});_animationStateChanged=new Fe;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?ds(this._config.enterAnimationDuration)??Fa:0;_exitAnimationDuration=this._animationsEnabled?ds(this._config.exitAnimationDuration)??Ba:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(ls,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(as,Co)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Co),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Co),this._animationsEnabled?(this._hostElement.style.setProperty(ls,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(cs)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(as,cs)}_waitForAnimationToComplete(e,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let e;return function(n){return(e||(e=Jo(o)))(n||o)}})();static \u0275cmp=X({type:o,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,n){i&2&&(an("id",n._config.id),he("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),xe("_mat-animation-noopable",!n._animationsEnabled)("mat-mdc-dialog-container-with-actions",n._actionSectionCount>0))},features:[tn],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,n){i&1&&(m(0,"div",0)(1,"div",1),K(2,Na,0,0,"ng-template",2),f()())},dependencies:[Oi],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return o})(),ls="--mat-dialog-transition-duration";function ds(o){return o==null?null:typeof o=="number"?o:o.endsWith("ms")?so(o.substring(0,o.length-2)):o.endsWith("s")?so(o.substring(0,o.length-1))*1e3:o==="0"?0:null}var Vi=function(o){return o[o.OPEN=0]="OPEN",o[o.CLOSING=1]="CLOSING",o[o.CLOSED=2]="CLOSED",o}(Vi||{}),Si=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new le;_beforeClosed=new le;_result;_closeFallbackTimeout;_state=Vi.OPEN;_closeInteractionType;constructor(t,e,i){this._ref=t,this._containerInstance=i,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Ue(n=>n.state==="opened"),Ae(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Ue(n=>n.state==="closed"),Ae(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),pt(this.backdropClick(),this.keydownEvents().pipe(Ue(n=>n.keyCode===27&&!this.disableClose&&!tt(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),ms(this,n.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Ue(e=>e.state==="closing"),Ae(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=Vi.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=Vi.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function ms(o,t,e){return o._closeInteractionType=t,o.close(e)}var Hn=new ie("MatMdcDialogData"),hs=new ie("mat-mdc-dialog-default-options"),ps=new ie("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let o=h(Ke);return()=>o.scrollStrategies.block()}});var ko=(()=>{class o{_overlay=h(Ke);_defaultOptions=h(hs,{optional:!0});_scrollStrategy=h(ps);_parentDialog=h(o,{optional:!0,skipSelf:!0});_idGenerator=h(Ye);_dialog=h(ss);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new le;_afterOpenedAtThisLevel=new le;dialogConfigClass=Hi;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=ii(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(st(void 0)));constructor(){this._dialogRefConstructor=Si,this._dialogContainerType=us,this._dialogDataToken=Hn}open(e,i){let n;i=P(P({},this._defaultOptions||new Hi),i),i.id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let r=this._dialog.open(e,Oe(P({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:zt,useValue:i}]},templateContext:()=>({dialogRef:n}),providers:(s,a,d)=>(n=new this._dialogRefConstructor(s,i,d),n.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:n}])}));return n.componentRef=r.componentRef,n.componentInstance=r.componentInstance,this.openDialogs.push(n),this.afterOpened.next(n),n.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),n}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Ge({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var gs=(()=>{class o{_animationMode=h(Ve,{optional:!0});state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=X({type:o,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,n){i&2&&xe("mat-pseudo-checkbox-indeterminate",n.state==="indeterminate")("mat-pseudo-checkbox-checked",n.state==="checked")("mat-pseudo-checkbox-disabled",n.disabled)("mat-pseudo-checkbox-minimal",n.appearance==="minimal")("mat-pseudo-checkbox-full",n.appearance==="full")("_mat-animation-noopable",n._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,n){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return o})();var ja=["text"],Va=[[["mat-icon"]],"*"],Ha=["mat-icon","*"];function Wa(o,t){if(o&1&&V(0,"mat-pseudo-checkbox",1),o&2){let e=E();$("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function Ua(o,t){if(o&1&&V(0,"mat-pseudo-checkbox",3),o&2){let e=E();$("disabled",e.disabled)}}function Ga(o,t){if(o&1&&(m(0,"span",4),k(1),f()),o&2){let e=E();y(),Me("(",e.group.label,")")}}var xo=new ie("MAT_OPTION_PARENT_COMPONENT"),So=new ie("MatOptgroup");var wo=class{source;isUserInput;constructor(t,e=!1){this.source=t,this.isUserInput=e}},Wi=(()=>{class o{_element=h(Pe);_changeDetectorRef=h(Ze);_parent=h(xo,{optional:!0});group=h(So,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=h(Ye).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new Fe;_text;_stateChanges=new le;constructor(){let e=h(li);e.load(mi),e.load(Tr),this._signalDisableRipple=!!this._parent&&tr(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){let n=this._getHostElement();typeof n.focus=="function"&&n.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!tt(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new wo(this,e))}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=X({type:o,selectors:[["mat-option"]],viewQuery:function(i,n){if(i&1&&Be(ja,7),i&2){let r;be(r=ve())&&(n._text=r.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,n){i&1&&q("click",function(){return n._selectViaInteraction()})("keydown",function(s){return n._handleKeydown(s)}),i&2&&(an("id",n.id),he("aria-selected",n.selected)("aria-disabled",n.disabled.toString()),xe("mdc-list-item--selected",n.selected)("mat-mdc-option-multiple",n.multiple)("mat-mdc-option-active",n.active)("mdc-list-item--disabled",n.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",fe]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:Ha,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,n){i&1&&(ct(Va),K(0,Wa,1,2,"mat-pseudo-checkbox",1),We(1),m(2,"span",2,0),We(4,1),f(),K(5,Ua,1,1,"mat-pseudo-checkbox",3)(6,Ga,2,1,"span",4),V(7,"div",5)),i&2&&(pe(n.multiple?0:-1),y(5),pe(!n.multiple&&n.selected&&!n.hideSingleSelectionIndicator?5:-1),y(),pe(n.group&&n.group._inert?6:-1),y(),$("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disabled||n.disableRipple))},dependencies:[gs,hi],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return o})();function _s(o,t,e){if(e.length){let i=t.toArray(),n=e.toArray(),r=0;for(let s=0;s<o+1;s++)i[s].group&&i[s].group===n[r]&&r++;return r}return 0}function bs(o,t,e,i){return o<e?o:o+t>e+i?Math.max(0,o-i+t):e}var Eo=(()=>{class o{_listeners=[];notify(e,i){for(let n of this._listeners)n(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Ge({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Ui=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new le;constructor(t=!1,e,i=!0,n){this._multiple=t,this._emitChanges=i,this.compareWith=n,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);let e=this.selected,i=new Set(t.map(r=>this._getConcreteValue(r)));t.forEach(r=>this._markSelected(r)),e.filter(r=>!i.has(this._getConcreteValue(r,i))).forEach(r=>this._unmarkSelected(r));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(t,i))return i;return t}else return t}};var vs=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=He({type:o});static \u0275inj=je({imports:[Qe]})}return o})();var To=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=He({type:o});static \u0275inj=je({imports:[fi,Qe,vs]})}return o})();var $a=["trigger"],qa=["panel"],Za=[[["mat-select-trigger"]],"*"],Ya=["mat-select-trigger","*"];function Qa(o,t){if(o&1&&(m(0,"span",4),k(1),f()),o&2){let e=E();y(),Le(e.placeholder)}}function Ka(o,t){o&1&&We(0)}function Xa(o,t){if(o&1&&(m(0,"span",11),k(1),f()),o&2){let e=E(2);y(),Le(e.triggerValue)}}function Ja(o,t){if(o&1&&(m(0,"span",5),K(1,Ka,1,0)(2,Xa,2,1,"span",11),f()),o&2){let e=E();y(),pe(e.customTrigger?1:2)}}function ec(o,t){if(o&1){let e=Te();m(0,"div",12,1),q("keydown",function(n){Y(e);let r=E();return Q(r._handleKeydown(n))}),We(2,1),f()}if(o&2){let e=E();cr("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),xe("mat-select-panel-animations-enabled",!e._animationsDisabled),$("ngClass",e.panelClass),he("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var Mo=new ie("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let o=h(Ke);return()=>o.scrollStrategies.reposition()}});function ys(o){return()=>o.scrollStrategies.reposition()}var Cs=new ie("MAT_SELECT_CONFIG"),ks={provide:Mo,deps:[Ke],useFactory:ys},ws=new ie("MatSelectTrigger"),Wn=class{source;value;constructor(t,e){this.source=t,this.value=e}},Do=(()=>{class o{_viewportRuler=h(Lr);_changeDetectorRef=h(Ze);_elementRef=h(Pe);_dir=h(Yt,{optional:!0});_idGenerator=h(Ye);_renderer=h(jt);_parentFormField=h(jr,{optional:!0});ngControl=h(Ur,{self:!0,optional:!0});_liveAnnouncer=h(Ir);_defaultOptions=h(Cs,{optional:!0});_animationsDisabled=h(Ve,{optional:!0})==="NoopAnimations";_initialized=new le;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let i=this.options.toArray()[e];if(i){let n=this.panel.nativeElement,r=_s(e,this.options,this.optionGroups),s=i._getHostElement();e===0&&r===1?n.scrollTop=0:n.scrollTop=bs(s.offsetTop,s.offsetHeight,n.scrollTop,n.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new Wn(this,e)}_scrollStrategyFactory=h(Mo);_panelOpen=!1;_compareWith=(e,i)=>e===i;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new le;_errorStateTracker;stateChanges=new le;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(Wr.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=ii(()=>{let e=this.options;return e?e.changes.pipe(st(e),at(()=>pt(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(at(()=>this.optionSelectionChanges))});openedChange=new Fe;_openedStream=this.openedChange.pipe(Ue(e=>e),Lt(()=>{}));_closedStream=this.openedChange.pipe(Ue(e=>!e),Lt(()=>{}));selectionChange=new Fe;valueChange=new Fe;constructor(){let e=h($r),i=h(Gr,{optional:!0}),n=h(zr,{optional:!0}),r=h(new Ji("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new qr(e,this.ngControl,n,i,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=r==null?0:parseInt(r)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Ui(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(Nt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Nt(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(st(null),Nt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){let n=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?n.setAttribute("aria-labelledby",e):n.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(Ae(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=`${this.id}-panel`;this._trackedModal&&ao(this._trackedModal,"aria-owns",i),Ar(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;ao(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{i(),clearTimeout(n),this._cleanupDetach=void 0};let e=this.panel.nativeElement,i=this._renderer.listen(e,"animationend",r=>{r.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),n=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let i=e.keyCode,n=i===40||i===38||i===37||i===39,r=i===13||i===32,s=this._keyManager;if(!s.isTyping()&&r&&!tt(e)||(this.multiple||e.altKey)&&n)e.preventDefault(),this.open();else if(!this.multiple){let a=this.selected;s.onKeydown(e);let d=this.selected;d&&a!==d&&this._liveAnnouncer.announce(d.viewValue,1e4)}}_handleOpenKeydown(e){let i=this._keyManager,n=e.keyCode,r=n===40||n===38,s=i.isTyping();if(r&&e.altKey)e.preventDefault(),this.close();else if(!s&&(n===13||n===32)&&i.activeItem&&!tt(e))e.preventDefault(),i.activeItem._selectViaInteraction();else if(!s&&this._multiple&&n===65&&e.ctrlKey){e.preventDefault();let a=this.options.some(d=>!d.disabled&&!d.selected);this.options.forEach(d=>{d.disabled||(a?d.select():d.deselect())})}else{let a=i.activeItemIndex;i.onKeydown(e),this._multiple&&r&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!tt(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let i=this.options.find(n=>{if(this._selectionModel.isSelected(n))return!1;try{return(n.value!=null||this.canSelectNullableOptions)&&this._compareWith(n.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof uo?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Rr(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=pt(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Nt(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),pt(...this.options.map(i=>i._stateChanges)).pipe(Nt(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){let n=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(n!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())),n!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((i,n)=>this.sortComparator?this.sortComparator(i,n,e):e.indexOf(i)-e.indexOf(n)),this.stateChanges.next()}}_propagateChanges(e){let i;this.multiple?i=this.selected.map(n=>n.value):i=this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=X({type:o,selectors:[["mat-select"]],contentQueries:function(i,n,r){if(i&1&&(gt(r,ws,5),gt(r,Wi,5),gt(r,So,5)),i&2){let s;be(s=ve())&&(n.customTrigger=s.first),be(s=ve())&&(n.options=s),be(s=ve())&&(n.optionGroups=s)}},viewQuery:function(i,n){if(i&1&&(Be($a,5),Be(qa,5),Be(mo,5)),i&2){let r;be(r=ve())&&(n.trigger=r.first),be(r=ve())&&(n.panel=r.first),be(r=ve())&&(n._overlayDir=r.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,n){i&1&&q("keydown",function(s){return n._handleKeydown(s)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()}),i&2&&(he("id",n.id)("tabindex",n.disabled?-1:n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-activedescendant",n._getAriaActiveDescendant()),xe("mat-mdc-select-disabled",n.disabled)("mat-mdc-select-invalid",n.errorState)("mat-mdc-select-required",n.required)("mat-mdc-select-empty",n.empty)("mat-mdc-select-multiple",n.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",fe],disableRipple:[2,"disableRipple","disableRipple",fe],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:_t(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",fe],placeholder:"placeholder",required:[2,"required","required",fe],multiple:[2,"multiple","multiple",fe],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",fe],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",_t],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",fe]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[qt([{provide:Br,useExisting:o},{provide:xo,useExisting:o}]),ro],ngContentSelectors:Ya,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,n){if(i&1){let r=Te();ct(Za),m(0,"div",2,0),q("click",function(){return Y(r),Q(n.open())}),m(3,"div",3),K(4,Qa,2,1,"span",4)(5,Ja,3,1,"span",5),f(),m(6,"div",6)(7,"div",7),$t(),m(8,"svg",8),V(9,"path",9),f()()()(),K(10,ec,3,10,"ng-template",10),q("detach",function(){return Y(r),Q(n.close())})("backdropClick",function(){return Y(r),Q(n.close())})("overlayKeydown",function(a){return Y(r),Q(n._handleOverlayKeydown(a))})}if(i&2){let r=Vt(1);y(3),he("id",n._valueId),y(),pe(n.empty?4:5),y(6),$("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",n._preferredOverlayOrigin||r)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayWidth",n._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[uo,mo,hr],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return o})();var Io=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=He({type:o});static \u0275inj=je({providers:[ks],imports:[pi,To,Qe,mn,pn,To,Qe]})}return o})();var ic=["mat-internal-form-field",""],nc=["*"],xs=(()=>{class o{labelPosition;static \u0275fac=function(i){return new(i||o)};static \u0275cmp=X({type:o,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,n){i&2&&xe("mdc-form-field--align-end",n.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:ic,ngContentSelectors:nc,decls:1,vars:0,template:function(i,n){i&1&&(ct(),We(0))},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0})}return o})();var oc=["input"],rc=["formField"],sc=["*"],Un=class{source;value;constructor(t,e){this.source=t,this.value=e}},ac={provide:Hr,useExisting:Ko(()=>Ro),multi:!0},Ss=new ie("MatRadioGroup"),cc=new ie("mat-radio-default-options",{providedIn:"root",factory:lc});function lc(){return{color:"accent",disabledInteractive:!1}}var Ro=(()=>{class o{_changeDetector=h(Ze);_value=null;_name=h(Ye).getId("mat-radio-group-");_selected=null;_isInitialized=!1;_labelPosition="after";_disabled=!1;_required=!1;_buttonChanges;_controlValueAccessorChangeFn=()=>{};onTouched=()=>{};change=new Fe;_radios;color;get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition=e==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=e,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markRadiosForCheck()}_disabledInteractive=!1;constructor(){}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){let e=this._selected!==null&&this._selected.value===this._value;this._radios&&!e&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Un(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static \u0275fac=function(i){return new(i||o)};static \u0275dir=ri({type:o,selectors:[["mat-radio-group"]],contentQueries:function(i,n,r){if(i&1&&gt(r,Gn,5),i&2){let s;be(s=ve())&&(n._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",fe],required:[2,"required","required",fe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",fe]},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[qt([ac,{provide:Ss,useExisting:o}])]})}return o})(),Gn=(()=>{class o{_elementRef=h(Pe);_changeDetector=h(Ze);_focusMonitor=h(Zt);_radioDispatcher=h(Eo);_defaultOptions=h(cc,{optional:!0});_ngZone=h(ft);_renderer=h(jt);_uniqueId=h(Ye).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}_labelPosition;get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){e!==this._required&&this._changeDetector.markForCheck(),this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(e){this._color=e}_color;get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}_disabledInteractive;change=new Fe;radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`}_checked=!1;_disabled;_required;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations;_injector=h(ze);constructor(){h(li).load(mi);let e=h(Ss,{optional:!0}),i=h(Ve,{optional:!0}),n=h(new Ji("tabindex"),{optional:!0});this.radioGroup=e,this._noopAnimations=i==="NoopAnimations",this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,n&&(this.tabIndex=_t(n,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Un(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){let i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_onInputClick=e=>{this.disabled&&this.disabledInteractive&&e.preventDefault()};_updateTabIndex(){let e=this.radioGroup,i;if(!e||!e.selected||this.disabled?i=this.tabIndex:i=e.selected===this?this.tabIndex:-1,i!==this._previousTabIndex){let n=this._inputElement?.nativeElement;n&&(n.setAttribute("tabindex",i+""),this._previousTabIndex=i,oi(()=>{queueMicrotask(()=>{e&&e.selected&&e.selected!==this&&document.activeElement===n&&(e.selected?._inputElement.nativeElement.focus(),document.activeElement===n&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=X({type:o,selectors:[["mat-radio-button"]],viewQuery:function(i,n){if(i&1&&(Be(oc,5),Be(rc,7,Pe)),i&2){let r;be(r=ve())&&(n._inputElement=r.first),be(r=ve())&&(n._rippleTrigger=r.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(i,n){i&1&&q("focus",function(){return n._inputElement.nativeElement.focus()}),i&2&&(he("id",n.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),xe("mat-primary",n.color==="primary")("mat-accent",n.color==="accent")("mat-warn",n.color==="warn")("mat-mdc-radio-checked",n.checked)("mat-mdc-radio-disabled",n.disabled)("mat-mdc-radio-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",fe],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:_t(e)],checked:[2,"checked","checked",fe],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",fe],required:[2,"required","required",fe],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",fe]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:sc,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio","aria-invalid","false",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,n){if(i&1){let r=Te();ct(),m(0,"div",2,0)(2,"div",3)(3,"div",4),q("click",function(a){return Y(r),Q(n._onTouchTargetClick(a))}),f(),m(4,"input",5,1),q("change",function(a){return Y(r),Q(n._onInputInteraction(a))}),f(),m(6,"div",6),V(7,"div",7)(8,"div",8),f(),m(9,"div",9),V(10,"div",10),f()(),m(11,"label",11),We(12),f()()}i&2&&($("labelPosition",n.labelPosition),y(2),xe("mdc-radio--disabled",n.disabled),y(2),$("id",n.inputId)("checked",n.checked)("disabled",n.disabled&&!n.disabledInteractive)("required",n.required),he("name",n.name)("value",n.value)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby)("aria-disabled",n.disabled&&n.disabledInteractive?"true":null),y(5),$("matRippleTrigger",n._rippleTrigger.nativeElement)("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0),y(2),$("for",n.inputId))},dependencies:[hi,xs],styles:[`.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px);top:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}
`],encapsulation:2,changeDetection:0})}return o})(),Es=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=He({type:o});static \u0275inj=je({imports:[Qe,fi,Gn,Qe]})}return o})();function uc(o,t){if(o&1&&(m(0,"mat-option",14)(1,"div",15),V(2,"img",16),m(3,"span",17),k(4),f()()()),o&2){let e=t.$implicit;$("value",e.id),y(2),$("src",e.profilePictureUrl||e.profilePic||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",$e),y(2),Le(e.fullName)}}var zn=class o{constructor(t,e){this.dialogRef=t;this.data=e;this.users=e.users}groupName="";selectedUsers=[];groupType="private";users=[];onCancel(){this.dialogRef.close()}onCreate(){this.dialogRef.close({name:this.groupName,memberIds:this.selectedUsers,type:this.groupType})}static \u0275fac=function(e){return new(e||o)(Ri(Si),Ri(Hn))};static \u0275cmp=X({type:o,selectors:[["app-create-group-dialog"]],decls:31,vars:5,consts:[["mat-dialog-title","",1,"text-2xl","font-bold","text-blue-700","mb-2"],["mat-dialog-content","",1,"bg-gray-50","rounded-lg","p-4"],[1,"mb-6"],[1,"block","text-sm","font-semibold","text-gray-700","mb-2"],["appearance","outline",1,"w-full"],["matInput","","placeholder","Enter group name",3,"ngModelChange","ngModel"],["multiple","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","gap-6",3,"ngModelChange","ngModel"],["value","private"],["value","public"],["mat-dialog-actions","","align","end",1,"flex","gap-3","mt-4"],["mat-stroked-button","","color","warn",1,"px-6",3,"click"],["mat-flat-button","","color","primary",1,"px-6",3,"click","disabled"],[3,"value"],[1,"flex","items-center","gap-2"],[1,"h-7","w-7","rounded-full","border","border-gray-300",3,"src"],[1,"text-gray-800"]],template:function(e,i){e&1&&(m(0,"h2",0),k(1,"Create Group Chat"),f(),m(2,"div",1)(3,"div",2)(4,"label",3),k(5,"Group Name"),f(),m(6,"mat-form-field",4)(7,"mat-label"),k(8,"Group Name"),f(),m(9,"input",5),Mt("ngModelChange",function(r){return Tt(i.groupName,r)||(i.groupName=r),r}),f()()(),m(10,"div",2)(11,"label",3),k(12,"Add Members"),f(),m(13,"mat-form-field",4)(14,"mat-label"),k(15,"Select Users"),f(),m(16,"mat-select",6),Mt("ngModelChange",function(r){return Tt(i.selectedUsers,r)||(i.selectedUsers=r),r}),K(17,uc,5,3,"mat-option",7),f()()(),m(18,"div",2)(19,"label",3),k(20,"Group Type"),f(),m(21,"mat-radio-group",8),Mt("ngModelChange",function(r){return Tt(i.groupType,r)||(i.groupType=r),r}),m(22,"mat-radio-button",9),k(23,"Private"),f(),m(24,"mat-radio-button",10),k(25,"Public"),f()()()(),m(26,"div",11)(27,"button",12),q("click",function(){return i.onCancel()}),k(28,"Cancel"),f(),m(29,"button",13),q("click",function(){return i.onCreate()}),k(30,"Create"),f()()),e&2&&(y(9),Et("ngModel",i.groupName),y(7),Et("ngModel",i.selectedUsers),y(),$("ngForOf",i.users),y(4),Et("ngModel",i.groupType),y(8),$("disabled",!i.groupName||i.selectedUsers.length===0))},dependencies:[pn,Vr,Fr,Yr,Zr,Io,Do,Wi,Es,Ro,Gn,Kr,Qr,vi,gi,_i,bi,pr],encapsulation:2})};function mc(o,t){let e;return(e=t.id)!==null&&e!==void 0?e:o}function hc(o,t){if(o&1){let e=Te();m(0,"div",18),q("click",function(){let n=Y(e).$implicit,r=E(2);return Q(r.openGroupChatWindow(n))}),m(1,"mat-icon",19),k(2,"groups"),f(),m(3,"span",20),k(4),f(),m(5,"span",21),k(6),qe(7,"titlecase"),f()()}if(o&2){let e=t.$implicit;y(4),Le(e.name),y(2),Le(Ht(7,2,e.type))}}function pc(o,t){if(o&1&&(m(0,"div",15)(1,"div",16),k(2,"Your Groups"),f(),xt(3,hc,8,4,"div",17,mc),f()),o&2){let e=E();y(3),St(e.groups)}}function fc(o,t){o&1&&(m(0,"div",25),V(1,"div",26),f())}function gc(o,t){o&1&&(m(0,"div",25),V(1,"div",27),f())}function _c(o,t){if(o&1){let e=Te();m(0,"div",22),q("click",function(){let n=Y(e).$implicit,r=E();return Q(r.openChatWindow(n))}),V(1,"img",4),m(2,"div")(3,"span",23),k(4),qe(5,"titlecase"),f(),m(6,"p",24),k(7),f()(),K(8,fc,2,0,"div",25)(9,gc,2,0,"div",25),f()}if(o&2){let e=t.$implicit;y(),$("src",e.profilePictureUrl||e.profilePic||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",$e),y(3),Me(" ",Ht(5,4,e.fullName)," "),y(3),Me(" ",e.unreadCount?e.unreadCount+" unread messages":""," "),y(),pe(e.isOnline?8:9)}}var $n=class o{constructor(t){this.dialog=t}authService=h(et);chatService=h(dt);router=h(ln);groups=[];logout(){this.authService.logout(),this.router.navigate(["/login"]),this.chatService.disConnectConnection()}ngOnInit(){this.chatService.startConnection(this.authService.getAccessToken,void 0,()=>{this.chatService.getMyGroups().then(t=>{this.groups=t})})}openChatWindow(t){this.chatService.currentOpenedGroup.set(null),this.chatService.chatMessages.set([]),this.chatService.currentOpenedChat.set(t),this.chatService.loadMessages(1)}openCreateGroupDialog(){this.dialog.open(zn,{data:{users:this.chatService.onlineUsers()}}).afterClosed().subscribe(e=>{if(e){let i=this.authService.currentLoggedInUser?.id,n=Array.from(new Set([...e.memberIds||[],i])).filter(r=>!!r);this.chatService.createGroup(Oe(P({},e),{memberIds:n})),setTimeout(()=>{this.chatService.getMyGroups().then(r=>{this.groups=r})},500)}})}openGroupChatWindow(t){console.log("Opening group:",t),t&&t.Members?console.log("Group Members:",t.Members):console.warn("No Members property on group:",t),this.chatService.currentOpenedChat.set(null),this.chatService.currentOpenedGroup.set(t),this.chatService.chatMessages.set([]),this.chatService.loadGroupMessages(t.id,1)}static \u0275fac=function(e){return new(e||o)(Ri(ko))};static \u0275cmp=X({type:o,selectors:[["app-chat-sidebar"]],decls:32,vars:6,consts:[["menu","matMenu"],[1,"p-4"],[1,"flex","items-center","justify-between","bg-white","z-10","sticky","top-0","p-1","w-full"],[1,"flex","items-center"],["alt","User profile picture",1,"h-10","w-10","rounded-full","border-gray-100","border-2","object-cover",3,"src"],[1,"font-medium","ml-2","text-gray-500"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"relative","flex","mt-4","items-center","gap-2","justify-between"],["type","text","placeholder","Search...",1,"w-full","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","pl-10","p-1","px-3"],["mat-icon-button",""],[1,"absolute","text-gray-400","left-2","top-1","pr-3"],["class","mb-2",4,"ngIf"],[1,"py-1","overflow-auto","scroll-smooth"],[1,"flex","items-center","border-b","bg-white","hover:bg-slate-200","cursor-pointer","hover:rounded-md","border-gray-100","px-3","gap-2","py-2"],[1,"mb-2"],[1,"font-bold","text-sm","text-gray-500","px-3"],[1,"flex","items-center","px-3","py-2","bg-gray-50","rounded","mb-1","cursor-pointer","hover:bg-blue-100"],[1,"flex","items-center","px-3","py-2","bg-gray-50","rounded","mb-1","cursor-pointer","hover:bg-blue-100",3,"click"],[1,"mr-2"],[1,"font-medium"],[1,"ml-auto","text-xs","text-gray-400"],[1,"flex","items-center","border-b","bg-white","hover:bg-slate-200","cursor-pointer","hover:rounded-md","border-gray-100","px-3","gap-2","py-2",3,"click"],[1,"font-normal","text-gray-600","text-base"],[1,"text-xs","text-slate-400"],[1,"ml-auto","font-meduim","text-xs"],[1,"bg-green-600","w-2","h-2","rounded-full"],[1,"bg-gray-400","w-2","h-2","rounded-full"]],template:function(e,i){if(e&1){let n=Te();m(0,"div",1)(1,"div",2)(2,"div",3),V(3,"img",4),m(4,"div",5),k(5),qe(6,"titlecase"),f()(),m(7,"div")(8,"button",6)(9,"mat-icon"),k(10,"more_vert"),f()(),m(11,"mat-menu",null,0)(13,"button",7),q("click",function(){return Y(n),Q(i.logout())}),m(14,"mat-icon"),k(15,"logout"),f(),m(16,"span"),k(17," Logout "),f()(),m(18,"button",7),q("click",function(){return Y(n),Q(i.openCreateGroupDialog())}),m(19,"mat-icon"),k(20,"group_add"),f(),m(21,"span"),k(22,"Create Group Chat"),f()()()()(),m(23,"div",8),V(24,"input",9),m(25,"button",10)(26,"mat-icon",11),k(27,"search"),f()()(),K(28,pc,5,0,"div",12),m(29,"div",13),xt(30,_c,10,6,"div",14,lr),f()()}if(e&2){let n=Vt(12);y(3),$("src",(i.authService.currentLoggedInUser==null?null:i.authService.currentLoggedInUser.profilePic)||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",$e),y(2),Me(" ",Ht(6,4,i.authService.currentLoggedInUser==null?null:i.authService.currentLoggedInUser.fullName)," "),y(3),$("matMenuTriggerFor",n),y(20),$("ngIf",i.groups.length>0),y(2),St(i.chatService.onlineUsers())}},dependencies:[ui,di,Cn,Wt,Qt,yn,ci,fr],encapsulation:2})};var bc=["determinateSpinner"];function vc(o,t){if(o&1&&($t(),m(0,"svg",11),V(1,"circle",12),f()),o&2){let e=E();he("viewBox",e._viewBox()),y(),on("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),he("r",e._circleRadius())}}var yc=new ie("mat-progress-spinner-default-options",{providedIn:"root",factory:Cc});function Cc(){return{diameter:Ds}}var Ds=100,kc=10,Is=(()=>{class o{_elementRef=h(Pe);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=h(Ve,{optional:!0}),i=h(yc);this._noopAnimations=e==="NoopAnimations"&&!!i&&!i._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",i&&(i.color&&(this.color=this._defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=Ds;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-kc)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=X({type:o,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,n){if(i&1&&Be(bc,5),i&2){let r;be(r=ve())&&(n._determinateCircle=r.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(i,n){i&2&&(he("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",n.mode==="determinate"?n.value:null)("mode",n.mode),rn("mat-"+n.color),on("width",n.diameter,"px")("height",n.diameter,"px")("--mdc-circular-progress-size",n.diameter+"px")("--mdc-circular-progress-active-indicator-width",n.diameter+"px"),xe("_mat-animation-noopable",n._noopAnimations)("mdc-circular-progress--indeterminate",n.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",_t],diameter:[2,"diameter","diameter",_t],strokeWidth:[2,"strokeWidth","strokeWidth",_t]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,n){if(i&1&&(K(0,vc,2,8,"ng-template",null,0,dr),m(2,"div",2,1),$t(),m(4,"svg",3),V(5,"circle",4),f()(),Xo(),m(6,"div",5)(7,"div",6)(8,"div",7),sn(9,8),f(),m(10,"div",9),sn(11,8),f(),m(12,"div",10),sn(13,8),f()()()),i&2){let r=Vt(1);y(4),he("viewBox",n._viewBox()),y(),on("stroke-dasharray",n._strokeCircumference(),"px")("stroke-dashoffset",n._strokeDashOffset(),"px")("stroke-width",n._circleStrokeWidth(),"%"),he("r",n._circleRadius()),y(4),$("ngTemplateOutlet",r),y(2),$("ngTemplateOutlet",r),y(2),$("ngTemplateOutlet",r)}},dependencies:[gr],styles:[`.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return o})();var wc=(o,t)=>t.id;function xc(o,t){o&1&&(m(0,"div",10),V(1,"mat-spinner",11),k(2,"Loading... "),f())}function Sc(o,t){o&1&&k(0," Load More Messages ")}function Ec(o,t){if(o&1&&(m(0,"div",4)(1,"button",9),K(2,xc,3,0,"div",10)(3,Sc,1,0),f()()),o&2){let e=E();y(2),pe(e.chatService.isLoading()?2:3)}}function Tc(o,t){if(o&1&&(m(0,"div",12)(1,"div",14),V(2,"img",15),f(),m(3,"div",16)(4,"span",17),k(5),f(),m(6,"span",18),k(7),qe(8,"date"),f()()()),o&2){let e,i=E(2).$implicit,n=E();y(2),$("src",((e=n.chatService.currentOpenedChat())==null?null:e.profilePictureUrl)||((e=n.chatService.currentOpenedChat())==null?null:e.profilePic)||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",$e),y(3),Me(" ",i.content," "),y(2),Me(" ",si(8,3,i.timestamp,"short")," ")}}function Mc(o,t){if(o&1){let e=Te();m(0,"input",20),Mt("ngModelChange",function(n){Y(e);let r=E(4);return Tt(r.editContent,n)||(r.editContent=n),Q(n)}),f(),m(1,"button",21),q("click",function(){Y(e);let n=E(4);return Q(n.saveEdit())}),m(2,"mat-icon"),k(3,"check"),f()(),m(4,"button",21),q("click",function(){Y(e);let n=E(4);return Q(n.cancelEdit())}),m(5,"mat-icon"),k(6,"close"),f()()}if(o&2){let e=E(4);Et("ngModel",e.editContent)}}function Dc(o,t){if(o&1){let e=Te();m(0,"button",25),q("click",function(){Y(e);let n=E(4).$implicit,r=E();return Q(r.setMenuItem(n))}),m(1,"mat-icon"),k(2,"more_vert"),f()()}if(o&2){E(5);let e=Vt(8);$("matMenuTriggerFor",e)}}function Ic(o,t){if(o&1&&(m(0,"div",19)(1,"span",22),k(2),f(),m(3,"span",23),k(4),qe(5,"date"),f(),K(6,Dc,3,1,"button",24),f()),o&2){let e=E(3).$implicit,i=E();y(2),Me(" ",e.content," "),y(2),Me(" ",si(5,3,e.timestamp,"short")," "),y(2),pe(e.senderId===(i.authService.currentLoggedInUser==null?null:i.authService.currentLoggedInUser.id)&&i.isWithin15Minutes(e.timestamp)?6:-1)}}function Rc(o,t){if(o&1&&(m(0,"div",13),K(1,Mc,7,1)(2,Ic,7,6,"div",19),m(3,"div",14),V(4,"img",15),f()()),o&2){let e=E(2).$implicit,i=E();y(),pe(i.editingMessageId===e.id?1:2),y(3),$("src",(i.authService.currentLoggedInUser==null?null:i.authService.currentLoggedInUser.profilePictureUrl)||(i.authService.currentLoggedInUser==null?null:i.authService.currentLoggedInUser.profilePic)||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",$e)}}function Oc(o,t){if(o&1&&K(0,Tc,9,6,"div",12)(1,Rc,5,2,"div",13),o&2){let e=E().$implicit,i=E();pe(e.senderId!==(i.authService.currentLoggedInUser==null?null:i.authService.currentLoggedInUser.id)?0:1)}}function Ac(o,t){if(o&1&&K(0,Oc,2,1),o&2){let e=t.$implicit;pe(e.content&&e.content.trim()!==""?0:-1)}}function Pc(o,t){o&1&&V(0,"mat-spinner",11)}function Lc(o,t){o&1&&(m(0,"mat-icon",26),k(1,"chat-icon"),f(),m(2,"p",26),k(3,"No messages yet. Start the conversation!"),f())}function Nc(o,t){if(o&1&&(m(0,"div",5),K(1,Pc,1,0,"mat-spinner",11)(2,Lc,4,0),f()),o&2){let e=E();y(),pe(e.chatService.isLoading()?1:2)}}var qn=class o{chatService=h(dt);authService=h(et);menuItem=null;editingMessageId=null;editContent="";setMenuItem(t){this.menuItem=t,this.editContent=t.content}startEdit(t){this.editingMessageId=t.id,this.editContent=t.content}saveEdit(){this.editingMessageId&&(this.chatService.editMessage(this.editingMessageId,this.editContent),this.editingMessageId=null,this.editContent="")}cancelEdit(){this.editingMessageId=null,this.editContent=""}editMessage(t){this.startEdit(t)}isWithin15Minutes(t){return(Date.now()-new Date(t).getTime())/6e4<=15}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=X({type:o,selectors:[["app-chat-box"]],decls:19,vars:2,consts:[["messageMenu","matMenu"],[1,"flex","chat-box","py-2","border-[20px]","border-transparent","flex-col"],[1,"flex-1","overflow-y-auto"],[1,"h-100"],[1,"text-center","py-1","sticky","top-0","w-full"],[1,"flex","flex-col","items-center","justify-center","h-full"],["mat-menu-item","",3,"click"],[1,"text-red-500"],[1,"text-blue-500"],[1,"text-gray-500","text-xs","shadow","px-5","py-2","runded-full","bg-gray-200","hover:text-gray-700","focus:outline-none"],[1,"flex","items-ccenter","gap-2"],["diameter","20","mode","indeterminate","strokeWidth","3"],[1,"flex","mb-3","flex-row","items-center","justify-normal"],[1,"flex","flex-row","items-center","justify-end","mb-3"],[1,"flex","items-center","justify-center","h-10","w-10","rounded-full","flex-shrink-0"],[1,"h-10","w-10","rounded-full",3,"src"],[1,"chat-message","bg-white","p-4","rounded-lg","ml-2","shadow-sm"],[1,"text-gray-800","text-sm","block"],[1,"text-gray-400","text-right","text-[10px]","block","mt-1"],[1,"chat-message","bg-blue-600","p-4","rounded-lg","mx-2","shadow-sm","text-white","relative"],[1,"p-2","rounded","border",2,"min-width","200px",3,"ngModelChange","ngModel"],["mat-icon-button","",3,"click"],[1,"text-sm","block"],[1,"text-gray-200","text-right","text-[10px]","block","mt-1","text-xs"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-icon-button","",3,"click","matMenuTriggerFor"],[1,"text-gray-400"]],template:function(e,i){if(e&1){let n=Te();m(0,"div",1)(1,"div",2)(2,"div",3),K(3,Ec,4,1,"div",4),f(),xt(4,Ac,1,1,null,null,wc,!1,Nc,3,1,"div",5),f()(),m(7,"mat-menu",null,0)(9,"button",6),q("click",function(){return Y(n),Q(i.chatService.deleteMessage(i.menuItem.id))}),m(10,"mat-icon",7),k(11,"delete"),f(),m(12,"span"),k(13,"Delete"),f()(),m(14,"button",6),q("click",function(){return Y(n),Q(i.editMessage(i.menuItem))}),m(15,"mat-icon",8),k(16,"edit"),f(),m(17,"span"),k(18,"Edit"),f()()()}e&2&&(y(3),pe(i.chatService.chatMessages().length>5?3:-1),y(),St(i.chatService.chatMessages()))},dependencies:[Is,cn,ui,di,Cn,Wt,Qt,yn,vi,gi,_i,bi],styles:[".chat-box[_ngcontent-%COMP%]{scroll-behavior:smooth;overflow-y:auto;padding:10px;background-color:#f0f0f0;display:flex;flex-direction:column;box-shadow:0 2px 4px #0000001a;border-radius:5px;height:84vh;scrollbar-width:thin;scrollbar-color:transparent;transition:scrollbar-color .3s}.chat-box[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px;background:transparent}.chat-box[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:transparent;border-radius:10px;transition:background .3s}.chat-box[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent;border-radius:10px}.chat-box[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:transparent}.chat-box[_ngcontent-%COMP%]:hover::-webkit-scrollbar-thumb{background:#bdbdbd}.chat-box[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:transparent transparent}.chat-box[_ngcontent-%COMP%]:hover{scrollbar-color:#bdbdbd transparent}.chat-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:40px}"]})};var Fc=(o,t)=>t.id;function Bc(o,t){if(o&1&&(m(0,"div",14)(1,"div",16)(2,"span",17),k(3),f(),m(4,"span",18),k(5),qe(6,"date"),f()()()),o&2){let e=E().$implicit;y(3),Le(e.content),y(2),Le(si(6,2,e.timestamp,"short"))}}function jc(o,t){if(o&1&&(m(0,"div",15)(1,"div",19)(2,"span",20),k(3),f(),m(4,"span",21),k(5),f(),m(6,"span",22),k(7),qe(8,"date"),f()()()),o&2){let e=E().$implicit,i=E(2);y(3),Me(" ",i.getUserName(e.senderId||void 0)," "),y(2),Le(e.content),y(2),Le(si(8,3,e.timestamp,"short"))}}function Vc(o,t){if(o&1&&K(0,Bc,7,5,"div",14)(1,jc,9,6,"div",15),o&2){let e=t.$implicit,i=E(2);pe(e.senderId===(i.authService.currentLoggedInUser==null?null:i.authService.currentLoggedInUser.id)?0:1)}}function Hc(o,t){if(o&1){let e=Te();m(0,"div",0)(1,"div",2)(2,"div",3)(3,"mat-icon",4),k(4,"groups"),f(),m(5,"div")(6,"div",5),k(7),f(),m(8,"div",6),k(9," Group Chat "),f()()(),m(10,"div",7)(11,"button",8),q("click",function(){Y(e);let n=E();return Q(n.closeChatWindow())}),m(12,"mat-icon",9),k(13,"close"),f()()()(),m(14,"div",10),xt(15,Vc,2,1,null,null,Fc),f(),m(17,"div",11)(18,"input",12),Mt("ngModelChange",function(n){Y(e);let r=E();return Tt(r.message,n)||(r.message=n),Q(n)}),q("keydown.enter",function(){Y(e);let n=E();return Q(n.sendMessage())}),f(),m(19,"mat-icon",13),q("click",function(){Y(e);let n=E();return Q(n.sendMessage())}),k(20,"send"),f()()()}if(o&2){let e=E();y(7),Me(" ",e.chatService.currentOpenedGroup().name," "),y(8),St(e.chatService.chatMessages()),y(3),Et("ngModel",e.message)}}function Wc(o,t){if(o&1){let e=Te();m(0,"div",0)(1,"div",2)(2,"div",3),V(3,"img",23),m(4,"div")(5,"div",5),k(6),qe(7,"titlecase"),f(),m(8,"div",6),k(9),f()()(),m(10,"div",7)(11,"button",24)(12,"mat-icon",25),k(13,"call"),f()(),m(14,"button",8),q("click",function(){Y(e);let n=E();return Q(n.closeChatWindow())}),m(15,"mat-icon",9),k(16,"close"),f()()()(),m(17,"div",26),V(18,"app-chat-box"),f(),m(19,"div",11)(20,"input",27),Mt("ngModelChange",function(n){Y(e);let r=E();return Tt(r.message,n)||(r.message=n),Q(n)}),f(),m(21,"mat-icon",13),q("click",function(){Y(e);let n=E();return Q(n.sendMessage())}),k(22,"send"),f()()()}if(o&2){let e,i,n,r=E();y(3),$("src",((e=r.chatService.currentOpenedChat())==null||e.profilePictureUrl==null?null:e.profilePictureUrl.trim())||((e=r.chatService.currentOpenedChat())==null||e.profilePic==null?null:e.profilePic.trim())||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",$e),y(3),Me(" ",Ht(7,4,(i=r.chatService.currentOpenedChat())==null?null:i.fullName)," "),y(3),Me(" ",r.chatService.status((n=r.chatService.currentOpenedChat())==null?null:n.userName)," "),y(11),Et("ngModel",r.message)}}function Uc(o,t){o&1&&(m(0,"div",1),V(1,"img",28),f())}var Zn=class o{chatService=h(dt);message="";authService=h(et);sendMessage(){this.message&&(this.chatService.currentOpenedGroup()?this.chatService.sendGroupMessage(this.message):this.chatService.sendMessage(this.message),this.message="")}closeChatWindow(){this.chatService.currentOpenedChat.set(null),this.chatService.currentOpenedGroup.set(null)}getUserName(t){let e=this.chatService.currentOpenedGroup();if(e&&e.members){let i=e.members.find(n=>n.id===t);return i&&(i.userName||i.fullName)||"Member"}return t?.slice(0,6)||"Member"}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=X({type:o,selectors:[["app-chat-window"]],decls:3,vars:1,consts:[[1,"relative","w-full","min-h-screen","flex","flex-col","bg-[#f4f7fa]"],[1,"flex","flex-col","items-center","justify-center","p-4","min-h-screen","bg-[#f4f7fa]"],[1,"chat-header","flex","items-center","justify-between","p-4","border-b","bg-white","shadow-sm"],[1,"flex","items-center","gap-3"],[1,"text-blue-600",2,"font-size","2rem"],[1,"font-semibold","text-lg","text-gray-800"],[1,"text-xs","text-gray-400","font-medium"],[1,"flex","gap-2"],["mat-icon-button","",3,"click"],[1,"text-red-500"],[1,"flex-1","overflow-y-auto","p-4"],[1,"border-t","bg-white","p-4","flex","items-center","gap-2"],["type","text","placeholder","Type a message...",1,"flex-1","text-gray-900","bg-gray-100","focus:outline-none","border","border-gray-200","rounded-full","px-4","py-2",3,"ngModelChange","keydown.enter","ngModel"],[1,"ml-5","cursor-pointer","hover:text-blue-600",3,"click"],[1,"flex","flex-row","items-center","justify-end","mb-3"],[1,"flex","flex-row","items-center","justify-normal","mb-3"],[1,"chat-message","bg-blue-600","p-4","rounded-lg","mx-2","shadow-sm","text-white","max-w-xs","break-words"],[1,"text-sm","block"],[1,"text-gray-200","text-right","text-[10px]","block","mt-1","text-xs"],[1,"chat-message","bg-white","p-4","rounded-lg","ml-2","shadow-sm","max-w-xs","break-words"],[1,"font-bold","text-xs","text-blue-600","block","mb-1"],[1,"text-gray-800","text-sm","block"],[1,"text-gray-400","text-right","text-[10px]","block","mt-1"],["alt","User profile picture",1,"h-12","w-12","rounded-full","border-2","border-gray-200","object-cover",3,"src"],["mat-icon-button",""],[1,"text-blue-500"],[1,"flex-1"],["type","text","placeholder","Type a message...",1,"flex-1","text-gray-900","bg-gray-100","focus:outline-none","border","border-gray-200","rounded-full","px-4","py-2",3,"ngModelChange","ngModel"],["src","chatopen.svg"]],template:function(e,i){e&1&&K(0,Hc,21,2,"div",0)(1,Wc,23,6,"div",0)(2,Uc,2,0,"div",1),e&2&&pe(i.chatService.currentOpenedGroup()?0:i.chatService.currentOpenedChat()?1:2)},dependencies:[ci,ui,di,vi,gi,_i,bi,qn,cn],encapsulation:2})};var Gc=(o,t)=>t.id;function zc(o,t){if(o&1&&(m(0,"div",4),V(1,"img",5),m(2,"span",6),k(3),f()()),o&2){let e=t.$implicit;y(),$("src",e.profilePictureUrl||e.profilePic||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",$e),y(2),Le(e.userName||e.fullName||e.id.slice(0,6))}}function $c(o,t){if(o&1&&(m(0,"div",0)(1,"div",2),k(2,"Group Members"),f(),m(3,"div",3),xt(4,zc,4,2,"div",4,Gc),f()()),o&2){let e=E();y(4),St(e.group().Members)}}function qc(o,t){if(o&1&&(m(0,"div",1)(1,"div",7),V(2,"img",8),m(3,"div")(4,"p",9)(5,"span",10),k(6),qe(7,"titlecase"),f()(),m(8,"p",11),k(9),f()()()()),o&2){let e,i,n,r=E();y(2),$("src",((e=r.chatService.currentOpenedChat())==null?null:e.profilePictureUrl)||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",$e),y(4),Le(Ht(7,3,(i=r.chatService.currentOpenedChat())==null?null:i.fullName)),y(3),Me(" ",(n=r.chatService.currentOpenedChat())==null?null:n.userName," ")}}var Yn=class o{chatService=h(dt);group=h(dt).currentOpenedGroup;static \u0275fac=function(e){return new(e||o)};static \u0275cmp=X({type:o,selectors:[["app-chat-right-sidebar"]],decls:2,vars:1,consts:[[1,"p-4"],[1,"p-3"],[1,"font-bold","text-lg","mb-2"],[1,"flex","flex-col","gap-2"],[1,"flex","items-center","gap-2"],[1,"h-8","w-8","rounded-full",3,"src"],[1,"font-medium"],[1,"flex","flex-col","text-center","items-center","mt-3"],["alt","Profile Picture",1,"w-44","h-44","mb-4","rounded-full","object-cover",3,"src"],[1,"ml-3"],[1,"font-semibold","text-lg"],[1,"text-sm","text-gray-500"]],template:function(e,i){e&1&&K(0,$c,6,0,"div",0)(1,qc,10,5,"div",1),e&2&&pe(i.group()?0:i.chatService.currentOpenedChat()?1:-1)},dependencies:[ci],encapsulation:2})};var Qn=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=X({type:o,selectors:[["app-chat"]],decls:6,vars:0,consts:[[1,"flex","rounded-3xl","h-full","justify-between"],[1,"bg-white","border-r","w-1/2"],[1,"w-full"],[1,"bg-gray-50","border-l","w-1/2"],[1,"h-full"]],template:function(e,i){e&1&&(m(0,"div",0),V(1,"app-chat-sidebar",1),m(2,"div",2),V(3,"app-chat-window"),f(),m(4,"div",3),V(5,"app-chat-right-sidebar",4),f()())},dependencies:[$n,Zn,Yn],encapsulation:2})};var Rs=(o,t)=>h(et).isLoggedIn()?!0:(h(ln).navigate(["/login"]),!1);var Os=[{path:"chat",component:Qn,canActivate:[Rs]},{path:"register",loadComponent:()=>import("./chunk-LWBBUW73.js").then(o=>o.RegisterComponent),canActivate:[po]},{path:"login",loadComponent:()=>import("./chunk-HBBK3LIZ.js").then(o=>o.LoginComponent),canActivate:[po]},{path:"**",redirectTo:"chat",pathMatch:"full"}];var Oo="Service workers are disabled or not supported by this browser",Ti=class{serviceWorker;worker;registration;events;constructor(t,e){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=new Ki(i=>i.error(new Ft(5601,!1)));else{let i=null,n=new le;this.worker=new Ki(_=>(i!==null&&_.next(i),n.subscribe(g=>_.next(g))));let r=()=>{let{controller:_}=t;_!==null&&(i=_,n.next(i))};t.addEventListener("controllerchange",r),r(),this.registration=this.worker.pipe(at(()=>t.getRegistration()));let s=new le;this.events=s.asObservable();let a=_=>{let{data:g}=_;g?.type&&s.next(g)};t.addEventListener("message",a),e?.get(nn,null,{optional:!0})?.onDestroy(()=>{t.removeEventListener("controllerchange",r),t.removeEventListener("message",a)})}}postMessage(t,e){return new Promise(i=>{this.worker.pipe(Ae(1)).subscribe(n=>{n.postMessage(P({action:t},e)),i()})})}postMessageWithOperation(t,e,i){let n=this.waitForOperationCompleted(i),r=this.postMessage(t,e);return Promise.all([r,n]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let e;return typeof t=="string"?e=i=>i.type===t:e=i=>t.includes(i.type),this.events.pipe(Ue(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(Ae(1))}waitForOperationCompleted(t){return new Promise((e,i)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Ue(n=>n.nonce===t),Ae(1),Lt(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).subscribe({next:e,error:i})})}get isEnabled(){return!!this.serviceWorker}},Zc=(()=>{class o{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new le;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=ni,this.notificationClicks=ni,this.subscription=ni;return}this.messages=this.sw.eventsOfType("PUSH").pipe(Lt(n=>n.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Lt(n=>n.data)),this.pushManager=this.sw.registration.pipe(Lt(n=>n.pushManager));let i=this.pushManager.pipe(at(n=>n.getSubscription()));this.subscription=new Ki(n=>{let r=i.subscribe(n),s=this.subscriptionChanges.subscribe(n);return()=>{r.unsubscribe(),s.unsubscribe()}})}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Oo));let i={userVisibleOnly:!0},n=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(n.length));for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return i.applicationServerKey=r,new Promise((s,a)=>{this.pushManager.pipe(at(d=>d.subscribe(i)),Ae(1)).subscribe({next:d=>{this.subscriptionChanges.next(d),s(d)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Oo));let e=i=>{if(i===null)throw new Ft(5602,!1);return i.unsubscribe().then(n=>{if(!n)throw new Ft(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((i,n)=>{this.subscription.pipe(Ae(1),at(e)).subscribe({next:i,error:n})})}decodeBase64(e){return atob(e)}static \u0275fac=function(i){return new(i||o)(oo(Ti))};static \u0275prov=Ge({token:o,factory:o.\u0275fac})}return o})(),Yc=(()=>{class o{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=ni,this.unrecoverable=ni;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Oo));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Ft(5601,!1));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(i){return new(i||o)(oo(Ti))};static \u0275prov=Ge({token:o,factory:o.\u0275fac})}return o})();var Ps=new ie("");function Qc(){let o=h(Gi);if(!("serviceWorker"in navigator&&o.enabled!==!1))return;let t=h(Ps),e=h(ft),i=h(nn);e.runOutsideAngular(()=>{let n=navigator.serviceWorker,r=()=>n.controller?.postMessage({action:"INITIALIZE"});n.addEventListener("controllerchange",r),i.onDestroy(()=>{n.removeEventListener("controllerchange",r)})}),e.runOutsideAngular(()=>{let n,{registrationStrategy:r}=o;if(typeof r=="function")n=new Promise(s=>r().subscribe(()=>s()));else{let[s,...a]=(r||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":n=Promise.resolve();break;case"registerWithDelay":n=As(+a[0]||0);break;case"registerWhenStable":n=Promise.race([i.whenStable(),As(+a[0])]);break;default:throw new Ft(5600,!1)}}n.then(()=>{i.destroyed||navigator.serviceWorker.register(t,{scope:o.scope}).catch(s=>console.error(Qo(5604,!1)))})})}function As(o){return new Promise(t=>setTimeout(t,o))}function Kc(o,t){return new Ti(o.enabled!==!1?navigator.serviceWorker:void 0,t)}var Gi=class{enabled;scope;registrationStrategy};function Ls(o,t={}){return Xi([Zc,Yc,{provide:Ps,useValue:o},{provide:Gi,useValue:t},{provide:Ti,useFactory:Kc,deps:[Gi,ze]},ar(Qc)])}var Ns={providers:[vr(),ur({eventCoalescing:!0}),Xr(),Cr(Os),Ls("ngsw-worker.js",{enabled:!mr(),registrationStrategy:"registerWhenStable:30000"})]};var Kn=class o{title=Bt("client");static \u0275fac=function(e){return new(e||o)};static \u0275cmp=X({type:o,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){e&1&&V(0,"router-outlet")},dependencies:[yr],encapsulation:2})};var Ct=globalThis;function it(o){return(Ct.__Zone_symbol_prefix||"__zone_symbol__")+o}function Xc(){let o=Ct.performance;function t(W){o&&o.mark&&o.mark(W)}function e(W,S){o&&o.measure&&o.measure(W,S)}t("Zone");let i=(()=>{class W{static __symbol__=it;static assertZonePatched(){if(Ct.Promise!==H.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let c=W.current;for(;c.parent;)c=c.parent;return c}static get current(){return O.zone}static get currentTask(){return j}static __load_patch(c,l,D=!1){if(H.hasOwnProperty(c)){let L=Ct[it("forceDuplicateZoneCheck")]===!0;if(!D&&L)throw Error("Already loaded patch: "+c)}else if(!Ct["__Zone_disable_"+c]){let L="Zone:"+c;t(L),H[c]=l(Ct,W,N),e(L,L)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(c,l){this._parent=c,this._name=l?l.name||"unnamed":"<root>",this._properties=l&&l.properties||{},this._zoneDelegate=new r(this,this._parent&&this._parent._zoneDelegate,l)}get(c){let l=this.getZoneWith(c);if(l)return l._properties[c]}getZoneWith(c){let l=this;for(;l;){if(l._properties.hasOwnProperty(c))return l;l=l._parent}return null}fork(c){if(!c)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,c)}wrap(c,l){if(typeof c!="function")throw new Error("Expecting function got: "+c);let D=this._zoneDelegate.intercept(this,c,l),L=this;return function(){return L.runGuarded(D,this,arguments,l)}}run(c,l,D,L){O={parent:O,zone:this};try{return this._zoneDelegate.invoke(this,c,l,D,L)}finally{O=O.parent}}runGuarded(c,l=null,D,L){O={parent:O,zone:this};try{try{return this._zoneDelegate.invoke(this,c,l,D,L)}catch(_e){if(this._zoneDelegate.handleError(this,_e))throw _e}}finally{O=O.parent}}runTask(c,l,D){if(c.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(c.zone||Re).name+"; Execution: "+this.name+")");let L=c,{type:_e,data:{isPeriodic:Z=!1,isRefreshable:At=!1}={}}=c;if(c.state===ye&&(_e===me||_e===T))return;let kt=c.state!=ee;kt&&L._transitionTo(ee,w);let wt=j;j=L,O={parent:O,zone:this};try{_e==T&&c.data&&!Z&&!At&&(c.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,L,l,D)}catch(ot){if(this._zoneDelegate.handleError(this,ot))throw ot}}finally{let ot=c.state;if(ot!==ye&&ot!==Ce)if(_e==me||Z||At&&ot===I)kt&&L._transitionTo(w,ee,I);else{let C=L._zoneDelegates;this._updateTaskCount(L,-1),kt&&L._transitionTo(ye,ee,ye),At&&(L._zoneDelegates=C)}O=O.parent,j=wt}}scheduleTask(c){if(c.zone&&c.zone!==this){let D=this;for(;D;){if(D===c.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${c.zone.name}`);D=D.parent}}c._transitionTo(I,ye);let l=[];c._zoneDelegates=l,c._zone=this;try{c=this._zoneDelegate.scheduleTask(this,c)}catch(D){throw c._transitionTo(Ce,I,ye),this._zoneDelegate.handleError(this,D),D}return c._zoneDelegates===l&&this._updateTaskCount(c,1),c.state==I&&c._transitionTo(w,I),c}scheduleMicroTask(c,l,D,L){return this.scheduleTask(new s(se,c,l,D,L,void 0))}scheduleMacroTask(c,l,D,L,_e){return this.scheduleTask(new s(T,c,l,D,L,_e))}scheduleEventTask(c,l,D,L,_e){return this.scheduleTask(new s(me,c,l,D,L,_e))}cancelTask(c){if(c.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(c.zone||Re).name+"; Execution: "+this.name+")");if(!(c.state!==w&&c.state!==ee)){c._transitionTo(ne,w,ee);try{this._zoneDelegate.cancelTask(this,c)}catch(l){throw c._transitionTo(Ce,ne),this._zoneDelegate.handleError(this,l),l}return this._updateTaskCount(c,-1),c._transitionTo(ye,ne),c.runCount=-1,c}}_updateTaskCount(c,l){let D=c._zoneDelegates;l==-1&&(c._zoneDelegates=null);for(let L=0;L<D.length;L++)D[L]._updateTaskCount(c.type,l)}}return W})(),n={name:"",onHasTask:(W,S,c,l)=>W.hasTask(c,l),onScheduleTask:(W,S,c,l)=>W.scheduleTask(c,l),onInvokeTask:(W,S,c,l,D,L)=>W.invokeTask(c,l,D,L),onCancelTask:(W,S,c,l)=>W.cancelTask(c,l)};class r{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(S,c,l){this._zone=S,this._parentDelegate=c,this._forkZS=l&&(l&&l.onFork?l:c._forkZS),this._forkDlgt=l&&(l.onFork?c:c._forkDlgt),this._forkCurrZone=l&&(l.onFork?this._zone:c._forkCurrZone),this._interceptZS=l&&(l.onIntercept?l:c._interceptZS),this._interceptDlgt=l&&(l.onIntercept?c:c._interceptDlgt),this._interceptCurrZone=l&&(l.onIntercept?this._zone:c._interceptCurrZone),this._invokeZS=l&&(l.onInvoke?l:c._invokeZS),this._invokeDlgt=l&&(l.onInvoke?c:c._invokeDlgt),this._invokeCurrZone=l&&(l.onInvoke?this._zone:c._invokeCurrZone),this._handleErrorZS=l&&(l.onHandleError?l:c._handleErrorZS),this._handleErrorDlgt=l&&(l.onHandleError?c:c._handleErrorDlgt),this._handleErrorCurrZone=l&&(l.onHandleError?this._zone:c._handleErrorCurrZone),this._scheduleTaskZS=l&&(l.onScheduleTask?l:c._scheduleTaskZS),this._scheduleTaskDlgt=l&&(l.onScheduleTask?c:c._scheduleTaskDlgt),this._scheduleTaskCurrZone=l&&(l.onScheduleTask?this._zone:c._scheduleTaskCurrZone),this._invokeTaskZS=l&&(l.onInvokeTask?l:c._invokeTaskZS),this._invokeTaskDlgt=l&&(l.onInvokeTask?c:c._invokeTaskDlgt),this._invokeTaskCurrZone=l&&(l.onInvokeTask?this._zone:c._invokeTaskCurrZone),this._cancelTaskZS=l&&(l.onCancelTask?l:c._cancelTaskZS),this._cancelTaskDlgt=l&&(l.onCancelTask?c:c._cancelTaskDlgt),this._cancelTaskCurrZone=l&&(l.onCancelTask?this._zone:c._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let D=l&&l.onHasTask,L=c&&c._hasTaskZS;(D||L)&&(this._hasTaskZS=D?l:n,this._hasTaskDlgt=c,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,l.onScheduleTask||(this._scheduleTaskZS=n,this._scheduleTaskDlgt=c,this._scheduleTaskCurrZone=this._zone),l.onInvokeTask||(this._invokeTaskZS=n,this._invokeTaskDlgt=c,this._invokeTaskCurrZone=this._zone),l.onCancelTask||(this._cancelTaskZS=n,this._cancelTaskDlgt=c,this._cancelTaskCurrZone=this._zone))}fork(S,c){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,S,c):new i(S,c)}intercept(S,c,l){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,S,c,l):c}invoke(S,c,l,D,L){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,S,c,l,D,L):c.apply(l,D)}handleError(S,c){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,S,c):!0}scheduleTask(S,c){let l=c;if(this._scheduleTaskZS)this._hasTaskZS&&l._zoneDelegates.push(this._hasTaskDlgtOwner),l=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,S,c),l||(l=c);else if(c.scheduleFn)c.scheduleFn(c);else if(c.type==se)ue(c);else throw new Error("Task is missing scheduleFn.");return l}invokeTask(S,c,l,D){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,S,c,l,D):c.callback.apply(l,D)}cancelTask(S,c){let l;if(this._cancelTaskZS)l=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,S,c);else{if(!c.cancelFn)throw Error("Task is not cancelable");l=c.cancelFn(c)}return l}hasTask(S,c){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,S,c)}catch(l){this.handleError(S,l)}}_updateTaskCount(S,c){let l=this._taskCounts,D=l[S],L=l[S]=D+c;if(L<0)throw new Error("More tasks executed then were scheduled.");if(D==0||L==0){let _e={microTask:l.microTask>0,macroTask:l.macroTask>0,eventTask:l.eventTask>0,change:S};this.hasTask(this._zone,_e)}}}class s{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(S,c,l,D,L,_e){if(this.type=S,this.source=c,this.data=D,this.scheduleFn=L,this.cancelFn=_e,!l)throw new Error("callback is not defined");this.callback=l;let Z=this;S===me&&D&&D.useG?this.invoke=s.invokeTask:this.invoke=function(){return s.invokeTask.call(Ct,Z,this,arguments)}}static invokeTask(S,c,l){S||(S=this),Ne++;try{return S.runCount++,S.zone.runTask(S,c,l)}finally{Ne==1&&Ie(),Ne--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(ye,I)}_transitionTo(S,c,l){if(this._state===c||this._state===l)this._state=S,S==ye&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${S}', expecting state '${c}'${l?" or '"+l+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let a=it("setTimeout"),d=it("Promise"),_=it("then"),g=[],x=!1,A;function J(W){if(A||Ct[d]&&(A=Ct[d].resolve(0)),A){let S=A[_];S||(S=A.then),S.call(A,W)}else Ct[a](W,0)}function ue(W){Ne===0&&g.length===0&&J(Ie),W&&g.push(W)}function Ie(){if(!x){for(x=!0;g.length;){let W=g;g=[];for(let S=0;S<W.length;S++){let c=W[S];try{c.zone.runTask(c,null,null)}catch(l){N.onUnhandledError(l)}}}N.microtaskDrainDone(),x=!1}}let Re={name:"NO ZONE"},ye="notScheduled",I="scheduling",w="scheduled",ee="running",ne="canceling",Ce="unknown",se="microTask",T="macroTask",me="eventTask",H={},N={symbol:it,currentZoneFrame:()=>O,onUnhandledError:ge,microtaskDrainDone:ge,scheduleMicroTask:ue,showUncaughtError:()=>!i[it("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:ge,patchMethod:()=>ge,bindArguments:()=>[],patchThen:()=>ge,patchMacroTask:()=>ge,patchEventPrototype:()=>ge,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>ge,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>ge,wrapWithCurrentZone:()=>ge,filterProperties:()=>[],attachOriginToPatched:()=>ge,_redefineProperty:()=>ge,patchCallbacks:()=>ge,nativeScheduleMicroTask:J},O={parent:null,zone:new i(null,null)},j=null,Ne=0;function ge(){}return e("Zone","Zone"),i}function Jc(){let o=globalThis,t=o[it("forceDuplicateZoneCheck")]===!0;if(o.Zone&&(t||typeof o.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return o.Zone??=Xc(),o.Zone}var $i=Object.getOwnPropertyDescriptor,Fo=Object.defineProperty,Bo=Object.getPrototypeOf,el=Object.create,tl=Array.prototype.slice,jo="addEventListener",Vo="removeEventListener",Ao=it(jo),Po=it(Vo),Dt="true",It="false",qi=it("");function Ho(o,t){return Zone.current.wrap(o,t)}function Wo(o,t,e,i,n){return Zone.current.scheduleMacroTask(o,t,e,i,n)}var te=it,eo=typeof window<"u",Zi=eo?window:void 0,Ee=eo&&Zi||globalThis,il="removeAttribute";function Uo(o,t){for(let e=o.length-1;e>=0;e--)typeof o[e]=="function"&&(o[e]=Ho(o[e],t+"_"+e));return o}function nl(o,t){let e=o.constructor.name;for(let i=0;i<t.length;i++){let n=t[i],r=o[n];if(r){let s=$i(o,n);if(!Us(s))continue;o[n]=(a=>{let d=function(){return a.apply(this,Uo(arguments,e+"."+n))};return Ot(d,a),d})(r)}}}function Us(o){return o?o.writable===!1?!1:!(typeof o.get=="function"&&typeof o.set>"u"):!0}var Gs=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,to=!("nw"in Ee)&&typeof Ee.process<"u"&&Ee.process.toString()==="[object process]",Go=!to&&!Gs&&!!(eo&&Zi.HTMLElement),zs=typeof Ee.process<"u"&&Ee.process.toString()==="[object process]"&&!Gs&&!!(eo&&Zi.HTMLElement),Jn={},ol=te("enable_beforeunload"),Fs=function(o){if(o=o||Ee.event,!o)return;let t=Jn[o.type];t||(t=Jn[o.type]=te("ON_PROPERTY"+o.type));let e=this||o.target||Ee,i=e[t],n;if(Go&&e===Zi&&o.type==="error"){let r=o;n=i&&i.call(this,r.message,r.filename,r.lineno,r.colno,r.error),n===!0&&o.preventDefault()}else n=i&&i.apply(this,arguments),o.type==="beforeunload"&&Ee[ol]&&typeof n=="string"?o.returnValue=n:n!=null&&!n&&o.preventDefault();return n};function Bs(o,t,e){let i=$i(o,t);if(!i&&e&&$i(e,t)&&(i={enumerable:!0,configurable:!0}),!i||!i.configurable)return;let n=te("on"+t+"patched");if(o.hasOwnProperty(n)&&o[n])return;delete i.writable,delete i.value;let r=i.get,s=i.set,a=t.slice(2),d=Jn[a];d||(d=Jn[a]=te("ON_PROPERTY"+a)),i.set=function(_){let g=this;if(!g&&o===Ee&&(g=Ee),!g)return;typeof g[d]=="function"&&g.removeEventListener(a,Fs),s?.call(g,null),g[d]=_,typeof _=="function"&&g.addEventListener(a,Fs,!1)},i.get=function(){let _=this;if(!_&&o===Ee&&(_=Ee),!_)return null;let g=_[d];if(g)return g;if(r){let x=r.call(this);if(x)return i.set.call(this,x),typeof _[il]=="function"&&_.removeAttribute(t),x}return null},Fo(o,t,i),o[n]=!0}function $s(o,t,e){if(t)for(let i=0;i<t.length;i++)Bs(o,"on"+t[i],e);else{let i=[];for(let n in o)n.slice(0,2)=="on"&&i.push(n);for(let n=0;n<i.length;n++)Bs(o,i[n],e)}}var ut=te("originalInstance");function zi(o){let t=Ee[o];if(!t)return;Ee[te(o)]=t,Ee[o]=function(){let n=Uo(arguments,o);switch(n.length){case 0:this[ut]=new t;break;case 1:this[ut]=new t(n[0]);break;case 2:this[ut]=new t(n[0],n[1]);break;case 3:this[ut]=new t(n[0],n[1],n[2]);break;case 4:this[ut]=new t(n[0],n[1],n[2],n[3]);break;default:throw new Error("Arg list too long.")}},Ot(Ee[o],t);let e=new t(function(){}),i;for(i in e)o==="XMLHttpRequest"&&i==="responseBlob"||function(n){typeof e[n]=="function"?Ee[o].prototype[n]=function(){return this[ut][n].apply(this[ut],arguments)}:Fo(Ee[o].prototype,n,{set:function(r){typeof r=="function"?(this[ut][n]=Ho(r,o+"."+n),Ot(this[ut][n],r)):this[ut][n]=r},get:function(){return this[ut][n]}})}(i);for(i in t)i!=="prototype"&&t.hasOwnProperty(i)&&(Ee[o][i]=t[i])}function Rt(o,t,e){let i=o;for(;i&&!i.hasOwnProperty(t);)i=Bo(i);!i&&o[t]&&(i=o);let n=te(t),r=null;if(i&&(!(r=i[n])||!i.hasOwnProperty(n))){r=i[n]=i[t];let s=i&&$i(i,t);if(Us(s)){let a=e(r,n,t);i[t]=function(){return a(this,arguments)},Ot(i[t],r)}}return r}function rl(o,t,e){let i=null;function n(r){let s=r.data;return s.args[s.cbIdx]=function(){r.invoke.apply(this,arguments)},i.apply(s.target,s.args),r}i=Rt(o,t,r=>function(s,a){let d=e(s,a);return d.cbIdx>=0&&typeof a[d.cbIdx]=="function"?Wo(d.name,a[d.cbIdx],d,n):r.apply(s,a)})}function Ot(o,t){o[te("OriginalDelegate")]=t}var js=!1,Lo=!1;function sl(){if(js)return Lo;js=!0;try{let o=Zi.navigator.userAgent;(o.indexOf("MSIE ")!==-1||o.indexOf("Trident/")!==-1||o.indexOf("Edge/")!==-1)&&(Lo=!0)}catch{}return Lo}function Vs(o){return typeof o=="function"}function Hs(o){return typeof o=="number"}var al={useG:!0},nt={},qs={},Zs=new RegExp("^"+qi+"(\\w+)(true|false)$"),Ys=te("propagationStopped");function Qs(o,t){let e=(t?t(o):o)+It,i=(t?t(o):o)+Dt,n=qi+e,r=qi+i;nt[o]={},nt[o][It]=n,nt[o][Dt]=r}function cl(o,t,e,i){let n=i&&i.add||jo,r=i&&i.rm||Vo,s=i&&i.listeners||"eventListeners",a=i&&i.rmAll||"removeAllListeners",d=te(n),_="."+n+":",g="prependListener",x="."+g+":",A=function(I,w,ee){if(I.isRemoved)return;let ne=I.callback;typeof ne=="object"&&ne.handleEvent&&(I.callback=T=>ne.handleEvent(T),I.originalDelegate=ne);let Ce;try{I.invoke(I,w,[ee])}catch(T){Ce=T}let se=I.options;if(se&&typeof se=="object"&&se.once){let T=I.originalDelegate?I.originalDelegate:I.callback;w[r].call(w,ee.type,T,se)}return Ce};function J(I,w,ee){if(w=w||o.event,!w)return;let ne=I||w.target||o,Ce=ne[nt[w.type][ee?Dt:It]];if(Ce){let se=[];if(Ce.length===1){let T=A(Ce[0],ne,w);T&&se.push(T)}else{let T=Ce.slice();for(let me=0;me<T.length&&!(w&&w[Ys]===!0);me++){let H=A(T[me],ne,w);H&&se.push(H)}}if(se.length===1)throw se[0];for(let T=0;T<se.length;T++){let me=se[T];t.nativeScheduleMicroTask(()=>{throw me})}}}let ue=function(I){return J(this,I,!1)},Ie=function(I){return J(this,I,!0)};function Re(I,w){if(!I)return!1;let ee=!0;w&&w.useG!==void 0&&(ee=w.useG);let ne=w&&w.vh,Ce=!0;w&&w.chkDup!==void 0&&(Ce=w.chkDup);let se=!1;w&&w.rt!==void 0&&(se=w.rt);let T=I;for(;T&&!T.hasOwnProperty(n);)T=Bo(T);if(!T&&I[n]&&(T=I),!T||T[d])return!1;let me=w&&w.eventNameToString,H={},N=T[d]=T[n],O=T[te(r)]=T[r],j=T[te(s)]=T[s],Ne=T[te(a)]=T[a],ge;w&&w.prepend&&(ge=T[te(w.prepend)]=T[w.prepend]);function W(u,v){return v?typeof u=="boolean"?{capture:u,passive:!0}:u?typeof u=="object"&&u.passive!==!1?Oe(P({},u),{passive:!0}):u:{passive:!0}:u}let S=function(u){if(!H.isExisting)return N.call(H.target,H.eventName,H.capture?Ie:ue,H.options)},c=function(u){if(!u.isRemoved){let v=nt[u.eventName],R;v&&(R=v[u.capture?Dt:It]);let F=R&&u.target[R];if(F){for(let M=0;M<F.length;M++)if(F[M]===u){F.splice(M,1),u.isRemoved=!0,u.removeAbortListener&&(u.removeAbortListener(),u.removeAbortListener=null),F.length===0&&(u.allRemoved=!0,u.target[R]=null);break}}}if(u.allRemoved)return O.call(u.target,u.eventName,u.capture?Ie:ue,u.options)},l=function(u){return N.call(H.target,H.eventName,u.invoke,H.options)},D=function(u){return ge.call(H.target,H.eventName,u.invoke,H.options)},L=function(u){return O.call(u.target,u.eventName,u.invoke,u.options)},_e=ee?S:l,Z=ee?c:L,At=function(u,v){let R=typeof v;return R==="function"&&u.callback===v||R==="object"&&u.originalDelegate===v},kt=w?.diff||At,wt=Zone[te("UNPATCHED_EVENTS")],ot=o[te("PASSIVE_EVENTS")];function C(u){if(typeof u=="object"&&u!==null){let v=P({},u);return u.signal&&(v.signal=u.signal),v}return u}let b=function(u,v,R,F,M=!1,U=!1){return function(){let G=this||o,z=arguments[0];w&&w.transferEventName&&(z=w.transferEventName(z));let ae=arguments[1];if(!ae)return u.apply(this,arguments);if(to&&z==="uncaughtException")return u.apply(this,arguments);let ce=!1;if(typeof ae!="function"){if(!ae.handleEvent)return u.apply(this,arguments);ce=!0}if(ne&&!ne(u,ae,G,arguments))return;let Pt=!!ot&&ot.indexOf(z)!==-1,mt=C(W(arguments[2],Pt)),Jt=mt?.signal;if(Jt?.aborted)return;if(wt){for(let ht=0;ht<wt.length;ht++)if(z===wt[ht])return Pt?u.call(G,z,ae,mt):u.apply(this,arguments)}let io=mt?typeof mt=="boolean"?!0:mt.capture:!1,zo=mt&&typeof mt=="object"?mt.once:!1,ea=Zone.current,no=nt[z];no||(Qs(z,me),no=nt[z]);let $o=no[io?Dt:It],ei=G[$o],qo=!1;if(ei){if(qo=!0,Ce){for(let ht=0;ht<ei.length;ht++)if(kt(ei[ht],ae))return}}else ei=G[$o]=[];let Yi,Zo=G.constructor.name,Yo=qs[Zo];Yo&&(Yi=Yo[z]),Yi||(Yi=Zo+v+(me?me(z):z)),H.options=mt,zo&&(H.options.once=!1),H.target=G,H.capture=io,H.eventName=z,H.isExisting=qo;let Di=ee?al:void 0;Di&&(Di.taskData=H),Jt&&(H.options.signal=void 0);let rt=ea.scheduleEventTask(Yi,ae,Di,R,F);if(Jt){H.options.signal=Jt;let ht=()=>rt.zone.cancelTask(rt);u.call(Jt,"abort",ht,{once:!0}),rt.removeAbortListener=()=>Jt.removeEventListener("abort",ht)}if(H.target=null,Di&&(Di.taskData=null),zo&&(H.options.once=!0),typeof rt.options!="boolean"&&(rt.options=mt),rt.target=G,rt.capture=io,rt.eventName=z,ce&&(rt.originalDelegate=ae),U?ei.unshift(rt):ei.push(rt),M)return G}};return T[n]=b(N,_,_e,Z,se),ge&&(T[g]=b(ge,x,D,Z,se,!0)),T[r]=function(){let u=this||o,v=arguments[0];w&&w.transferEventName&&(v=w.transferEventName(v));let R=arguments[2],F=R?typeof R=="boolean"?!0:R.capture:!1,M=arguments[1];if(!M)return O.apply(this,arguments);if(ne&&!ne(O,M,u,arguments))return;let U=nt[v],G;U&&(G=U[F?Dt:It]);let z=G&&u[G];if(z)for(let ae=0;ae<z.length;ae++){let ce=z[ae];if(kt(ce,M)){if(z.splice(ae,1),ce.isRemoved=!0,z.length===0&&(ce.allRemoved=!0,u[G]=null,!F&&typeof v=="string")){let Pt=qi+"ON_PROPERTY"+v;u[Pt]=null}return ce.zone.cancelTask(ce),se?u:void 0}}return O.apply(this,arguments)},T[s]=function(){let u=this||o,v=arguments[0];w&&w.transferEventName&&(v=w.transferEventName(v));let R=[],F=Ks(u,me?me(v):v);for(let M=0;M<F.length;M++){let U=F[M],G=U.originalDelegate?U.originalDelegate:U.callback;R.push(G)}return R},T[a]=function(){let u=this||o,v=arguments[0];if(v){w&&w.transferEventName&&(v=w.transferEventName(v));let R=nt[v];if(R){let F=R[It],M=R[Dt],U=u[F],G=u[M];if(U){let z=U.slice();for(let ae=0;ae<z.length;ae++){let ce=z[ae],Pt=ce.originalDelegate?ce.originalDelegate:ce.callback;this[r].call(this,v,Pt,ce.options)}}if(G){let z=G.slice();for(let ae=0;ae<z.length;ae++){let ce=z[ae],Pt=ce.originalDelegate?ce.originalDelegate:ce.callback;this[r].call(this,v,Pt,ce.options)}}}}else{let R=Object.keys(u);for(let F=0;F<R.length;F++){let M=R[F],U=Zs.exec(M),G=U&&U[1];G&&G!=="removeListener"&&this[a].call(this,G)}this[a].call(this,"removeListener")}if(se)return this},Ot(T[n],N),Ot(T[r],O),Ne&&Ot(T[a],Ne),j&&Ot(T[s],j),!0}let ye=[];for(let I=0;I<e.length;I++)ye[I]=Re(e[I],i);return ye}function Ks(o,t){if(!t){let r=[];for(let s in o){let a=Zs.exec(s),d=a&&a[1];if(d&&(!t||d===t)){let _=o[s];if(_)for(let g=0;g<_.length;g++)r.push(_[g])}}return r}let e=nt[t];e||(Qs(t),e=nt[t]);let i=o[e[It]],n=o[e[Dt]];return i?n?i.concat(n):i.slice():n?n.slice():[]}function ll(o,t){let e=o.Event;e&&e.prototype&&t.patchMethod(e.prototype,"stopImmediatePropagation",i=>function(n,r){n[Ys]=!0,i&&i.apply(n,r)})}function dl(o,t){t.patchMethod(o,"queueMicrotask",e=>function(i,n){Zone.current.scheduleMicroTask("queueMicrotask",n[0])})}var Xn=te("zoneTask");function Mi(o,t,e,i){let n=null,r=null;t+=i,e+=i;let s={};function a(_){let g=_.data;g.args[0]=function(){return _.invoke.apply(this,arguments)};let x=n.apply(o,g.args);return Hs(x)?g.handleId=x:(g.handle=x,g.isRefreshable=Vs(x.refresh)),_}function d(_){let{handle:g,handleId:x}=_.data;return r.call(o,g??x)}n=Rt(o,t,_=>function(g,x){if(Vs(x[0])){let A={isRefreshable:!1,isPeriodic:i==="Interval",delay:i==="Timeout"||i==="Interval"?x[1]||0:void 0,args:x},J=x[0];x[0]=function(){try{return J.apply(this,arguments)}finally{let{handle:ee,handleId:ne,isPeriodic:Ce,isRefreshable:se}=A;!Ce&&!se&&(ne?delete s[ne]:ee&&(ee[Xn]=null))}};let ue=Wo(t,x[0],A,a,d);if(!ue)return ue;let{handleId:Ie,handle:Re,isRefreshable:ye,isPeriodic:I}=ue.data;if(Ie)s[Ie]=ue;else if(Re&&(Re[Xn]=ue,ye&&!I)){let w=Re.refresh;Re.refresh=function(){let{zone:ee,state:ne}=ue;return ne==="notScheduled"?(ue._state="scheduled",ee._updateTaskCount(ue,1)):ne==="running"&&(ue._state="scheduling"),w.call(this)}}return Re??Ie??ue}else return _.apply(o,x)}),r=Rt(o,e,_=>function(g,x){let A=x[0],J;Hs(A)?(J=s[A],delete s[A]):(J=A?.[Xn],J?A[Xn]=null:J=A),J?.type?J.cancelFn&&J.zone.cancelTask(J):_.apply(o,x)})}function ul(o,t){let{isBrowser:e,isMix:i}=t.getGlobalObjects();if(!e&&!i||!o.customElements||!("customElements"in o))return;let n=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];t.patchCallbacks(t,o.customElements,"customElements","define",n)}function ml(o,t){if(Zone[t.symbol("patchEventTarget")])return;let{eventNames:e,zoneSymbolEventNames:i,TRUE_STR:n,FALSE_STR:r,ZONE_SYMBOL_PREFIX:s}=t.getGlobalObjects();for(let d=0;d<e.length;d++){let _=e[d],g=_+r,x=_+n,A=s+g,J=s+x;i[_]={},i[_][r]=A,i[_][n]=J}let a=o.EventTarget;if(!(!a||!a.prototype))return t.patchEventTarget(o,t,[a&&a.prototype]),!0}function hl(o,t){t.patchEventPrototype(o,t)}function Xs(o,t,e){if(!e||e.length===0)return t;let i=e.filter(r=>r.target===o);if(i.length===0)return t;let n=i[0].ignoreProperties;return t.filter(r=>n.indexOf(r)===-1)}function Ws(o,t,e,i){if(!o)return;let n=Xs(o,t,e);$s(o,n,i)}function No(o){return Object.getOwnPropertyNames(o).filter(t=>t.startsWith("on")&&t.length>2).map(t=>t.substring(2))}function pl(o,t){if(to&&!zs||Zone[o.symbol("patchEvents")])return;let e=t.__Zone_ignore_on_properties,i=[];if(Go){let n=window;i=i.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let r=[];Ws(n,No(n),e&&e.concat(r),Bo(n))}i=i.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let n=0;n<i.length;n++){let r=t[i[n]];r?.prototype&&Ws(r.prototype,No(r.prototype),e)}}function fl(o){o.__load_patch("legacy",t=>{let e=t[o.__symbol__("legacyPatch")];e&&e()}),o.__load_patch("timers",t=>{let e="set",i="clear";Mi(t,e,i,"Timeout"),Mi(t,e,i,"Interval"),Mi(t,e,i,"Immediate")}),o.__load_patch("requestAnimationFrame",t=>{Mi(t,"request","cancel","AnimationFrame"),Mi(t,"mozRequest","mozCancel","AnimationFrame"),Mi(t,"webkitRequest","webkitCancel","AnimationFrame")}),o.__load_patch("blocking",(t,e)=>{let i=["alert","prompt","confirm"];for(let n=0;n<i.length;n++){let r=i[n];Rt(t,r,(s,a,d)=>function(_,g){return e.current.run(s,t,g,d)})}}),o.__load_patch("EventTarget",(t,e,i)=>{hl(t,i),ml(t,i);let n=t.XMLHttpRequestEventTarget;n&&n.prototype&&i.patchEventTarget(t,i,[n.prototype])}),o.__load_patch("MutationObserver",(t,e,i)=>{zi("MutationObserver"),zi("WebKitMutationObserver")}),o.__load_patch("IntersectionObserver",(t,e,i)=>{zi("IntersectionObserver")}),o.__load_patch("FileReader",(t,e,i)=>{zi("FileReader")}),o.__load_patch("on_property",(t,e,i)=>{pl(i,t)}),o.__load_patch("customElements",(t,e,i)=>{ul(t,i)}),o.__load_patch("XHR",(t,e)=>{_(t);let i=te("xhrTask"),n=te("xhrSync"),r=te("xhrListener"),s=te("xhrScheduled"),a=te("xhrURL"),d=te("xhrErrorBeforeScheduled");function _(g){let x=g.XMLHttpRequest;if(!x)return;let A=x.prototype;function J(N){return N[i]}let ue=A[Ao],Ie=A[Po];if(!ue){let N=g.XMLHttpRequestEventTarget;if(N){let O=N.prototype;ue=O[Ao],Ie=O[Po]}}let Re="readystatechange",ye="scheduled";function I(N){let O=N.data,j=O.target;j[s]=!1,j[d]=!1;let Ne=j[r];ue||(ue=j[Ao],Ie=j[Po]),Ne&&Ie.call(j,Re,Ne);let ge=j[r]=()=>{if(j.readyState===j.DONE)if(!O.aborted&&j[s]&&N.state===ye){let S=j[e.__symbol__("loadfalse")];if(j.status!==0&&S&&S.length>0){let c=N.invoke;N.invoke=function(){let l=j[e.__symbol__("loadfalse")];for(let D=0;D<l.length;D++)l[D]===N&&l.splice(D,1);!O.aborted&&N.state===ye&&c.call(N)},S.push(N)}else N.invoke()}else!O.aborted&&j[s]===!1&&(j[d]=!0)};return ue.call(j,Re,ge),j[i]||(j[i]=N),me.apply(j,O.args),j[s]=!0,N}function w(){}function ee(N){let O=N.data;return O.aborted=!0,H.apply(O.target,O.args)}let ne=Rt(A,"open",()=>function(N,O){return N[n]=O[2]==!1,N[a]=O[1],ne.apply(N,O)}),Ce="XMLHttpRequest.send",se=te("fetchTaskAborting"),T=te("fetchTaskScheduling"),me=Rt(A,"send",()=>function(N,O){if(e.current[T]===!0||N[n])return me.apply(N,O);{let j={target:N,url:N[a],isPeriodic:!1,args:O,aborted:!1},Ne=Wo(Ce,w,j,I,ee);N&&N[d]===!0&&!j.aborted&&Ne.state===ye&&Ne.invoke()}}),H=Rt(A,"abort",()=>function(N,O){let j=J(N);if(j&&typeof j.type=="string"){if(j.cancelFn==null||j.data&&j.data.aborted)return;j.zone.cancelTask(j)}else if(e.current[se]===!0)return H.apply(N,O)})}}),o.__load_patch("geolocation",t=>{t.navigator&&t.navigator.geolocation&&nl(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}),o.__load_patch("PromiseRejectionEvent",(t,e)=>{function i(n){return function(r){Ks(t,n).forEach(a=>{let d=t.PromiseRejectionEvent;if(d){let _=new d(n,{promise:r.promise,reason:r.rejection});a.invoke(_)}})}}t.PromiseRejectionEvent&&(e[te("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),e[te("rejectionHandledHandler")]=i("rejectionhandled"))}),o.__load_patch("queueMicrotask",(t,e,i)=>{dl(t,i)})}function gl(o){o.__load_patch("ZoneAwarePromise",(t,e,i)=>{let n=Object.getOwnPropertyDescriptor,r=Object.defineProperty;function s(C){if(C&&C.toString===Object.prototype.toString){let b=C.constructor&&C.constructor.name;return(b||"")+": "+JSON.stringify(C)}return C?C.toString():Object.prototype.toString.call(C)}let a=i.symbol,d=[],_=t[a("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,g=a("Promise"),x=a("then"),A="__creationTrace__";i.onUnhandledError=C=>{if(i.showUncaughtError()){let b=C&&C.rejection;b?console.error("Unhandled Promise rejection:",b instanceof Error?b.message:b,"; Zone:",C.zone.name,"; Task:",C.task&&C.task.source,"; Value:",b,b instanceof Error?b.stack:void 0):console.error(C)}},i.microtaskDrainDone=()=>{for(;d.length;){let C=d.shift();try{C.zone.runGuarded(()=>{throw C.throwOriginal?C.rejection:C})}catch(b){ue(b)}}};let J=a("unhandledPromiseRejectionHandler");function ue(C){i.onUnhandledError(C);try{let b=e[J];typeof b=="function"&&b.call(this,C)}catch{}}function Ie(C){return C&&typeof C.then=="function"}function Re(C){return C}function ye(C){return Z.reject(C)}let I=a("state"),w=a("value"),ee=a("finally"),ne=a("parentPromiseValue"),Ce=a("parentPromiseState"),se="Promise.then",T=null,me=!0,H=!1,N=0;function O(C,b){return u=>{try{W(C,b,u)}catch(v){W(C,!1,v)}}}let j=function(){let C=!1;return function(u){return function(){C||(C=!0,u.apply(null,arguments))}}},Ne="Promise resolved with itself",ge=a("currentTaskTrace");function W(C,b,u){let v=j();if(C===u)throw new TypeError(Ne);if(C[I]===T){let R=null;try{(typeof u=="object"||typeof u=="function")&&(R=u&&u.then)}catch(F){return v(()=>{W(C,!1,F)})(),C}if(b!==H&&u instanceof Z&&u.hasOwnProperty(I)&&u.hasOwnProperty(w)&&u[I]!==T)c(u),W(C,u[I],u[w]);else if(b!==H&&typeof R=="function")try{R.call(u,v(O(C,b)),v(O(C,!1)))}catch(F){v(()=>{W(C,!1,F)})()}else{C[I]=b;let F=C[w];if(C[w]=u,C[ee]===ee&&b===me&&(C[I]=C[Ce],C[w]=C[ne]),b===H&&u instanceof Error){let M=e.currentTask&&e.currentTask.data&&e.currentTask.data[A];M&&r(u,ge,{configurable:!0,enumerable:!1,writable:!0,value:M})}for(let M=0;M<F.length;)l(C,F[M++],F[M++],F[M++],F[M++]);if(F.length==0&&b==H){C[I]=N;let M=u;try{throw new Error("Uncaught (in promise): "+s(u)+(u&&u.stack?`
`+u.stack:""))}catch(U){M=U}_&&(M.throwOriginal=!0),M.rejection=u,M.promise=C,M.zone=e.current,M.task=e.currentTask,d.push(M),i.scheduleMicroTask()}}}return C}let S=a("rejectionHandledHandler");function c(C){if(C[I]===N){try{let b=e[S];b&&typeof b=="function"&&b.call(this,{rejection:C[w],promise:C})}catch{}C[I]=H;for(let b=0;b<d.length;b++)C===d[b].promise&&d.splice(b,1)}}function l(C,b,u,v,R){c(C);let F=C[I],M=F?typeof v=="function"?v:Re:typeof R=="function"?R:ye;b.scheduleMicroTask(se,()=>{try{let U=C[w],G=!!u&&ee===u[ee];G&&(u[ne]=U,u[Ce]=F);let z=b.run(M,void 0,G&&M!==ye&&M!==Re?[]:[U]);W(u,!0,z)}catch(U){W(u,!1,U)}},u)}let D="function ZoneAwarePromise() { [native code] }",L=function(){},_e=t.AggregateError;class Z{static toString(){return D}static resolve(b){return b instanceof Z?b:W(new this(null),me,b)}static reject(b){return W(new this(null),H,b)}static withResolvers(){let b={};return b.promise=new Z((u,v)=>{b.resolve=u,b.reject=v}),b}static any(b){if(!b||typeof b[Symbol.iterator]!="function")return Promise.reject(new _e([],"All promises were rejected"));let u=[],v=0;try{for(let M of b)v++,u.push(Z.resolve(M))}catch{return Promise.reject(new _e([],"All promises were rejected"))}if(v===0)return Promise.reject(new _e([],"All promises were rejected"));let R=!1,F=[];return new Z((M,U)=>{for(let G=0;G<u.length;G++)u[G].then(z=>{R||(R=!0,M(z))},z=>{F.push(z),v--,v===0&&(R=!0,U(new _e(F,"All promises were rejected")))})})}static race(b){let u,v,R=new this((U,G)=>{u=U,v=G});function F(U){u(U)}function M(U){v(U)}for(let U of b)Ie(U)||(U=this.resolve(U)),U.then(F,M);return R}static all(b){return Z.allWithCallback(b)}static allSettled(b){return(this&&this.prototype instanceof Z?this:Z).allWithCallback(b,{thenCallback:v=>({status:"fulfilled",value:v}),errorCallback:v=>({status:"rejected",reason:v})})}static allWithCallback(b,u){let v,R,F=new this((z,ae)=>{v=z,R=ae}),M=2,U=0,G=[];for(let z of b){Ie(z)||(z=this.resolve(z));let ae=U;try{z.then(ce=>{G[ae]=u?u.thenCallback(ce):ce,M--,M===0&&v(G)},ce=>{u?(G[ae]=u.errorCallback(ce),M--,M===0&&v(G)):R(ce)})}catch(ce){R(ce)}M++,U++}return M-=2,M===0&&v(G),F}constructor(b){let u=this;if(!(u instanceof Z))throw new Error("Must be an instanceof Promise.");u[I]=T,u[w]=[];try{let v=j();b&&b(v(O(u,me)),v(O(u,H)))}catch(v){W(u,!1,v)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return Z}then(b,u){let v=this.constructor?.[Symbol.species];(!v||typeof v!="function")&&(v=this.constructor||Z);let R=new v(L),F=e.current;return this[I]==T?this[w].push(F,R,b,u):l(this,F,R,b,u),R}catch(b){return this.then(null,b)}finally(b){let u=this.constructor?.[Symbol.species];(!u||typeof u!="function")&&(u=Z);let v=new u(L);v[ee]=ee;let R=e.current;return this[I]==T?this[w].push(R,v,b,b):l(this,R,v,b,b),v}}Z.resolve=Z.resolve,Z.reject=Z.reject,Z.race=Z.race,Z.all=Z.all;let At=t[g]=t.Promise;t.Promise=Z;let kt=a("thenPatched");function wt(C){let b=C.prototype,u=n(b,"then");if(u&&(u.writable===!1||!u.configurable))return;let v=b.then;b[x]=v,C.prototype.then=function(R,F){return new Z((U,G)=>{v.call(this,U,G)}).then(R,F)},C[kt]=!0}i.patchThen=wt;function ot(C){return function(b,u){let v=C.apply(b,u);if(v instanceof Z)return v;let R=v.constructor;return R[kt]||wt(R),v}}return At&&(wt(At),Rt(t,"fetch",C=>ot(C))),Promise[e.__symbol__("uncaughtPromiseErrors")]=d,Z})}function _l(o){o.__load_patch("toString",t=>{let e=Function.prototype.toString,i=te("OriginalDelegate"),n=te("Promise"),r=te("Error"),s=function(){if(typeof this=="function"){let g=this[i];if(g)return typeof g=="function"?e.call(g):Object.prototype.toString.call(g);if(this===Promise){let x=t[n];if(x)return e.call(x)}if(this===Error){let x=t[r];if(x)return e.call(x)}}return e.call(this)};s[i]=e,Function.prototype.toString=s;let a=Object.prototype.toString,d="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?d:a.call(this)}})}function bl(o,t,e,i,n){let r=Zone.__symbol__(i);if(t[r])return;let s=t[r]=t[i];t[i]=function(a,d,_){return d&&d.prototype&&n.forEach(function(g){let x=`${e}.${i}::`+g,A=d.prototype;try{if(A.hasOwnProperty(g)){let J=o.ObjectGetOwnPropertyDescriptor(A,g);J&&J.value?(J.value=o.wrapWithCurrentZone(J.value,x),o._redefineProperty(d.prototype,g,J)):A[g]&&(A[g]=o.wrapWithCurrentZone(A[g],x))}else A[g]&&(A[g]=o.wrapWithCurrentZone(A[g],x))}catch{}}),s.call(t,a,d,_)},o.attachOriginToPatched(t[i],s)}function vl(o){o.__load_patch("util",(t,e,i)=>{let n=No(t);i.patchOnProperties=$s,i.patchMethod=Rt,i.bindArguments=Uo,i.patchMacroTask=rl;let r=e.__symbol__("BLACK_LISTED_EVENTS"),s=e.__symbol__("UNPATCHED_EVENTS");t[s]&&(t[r]=t[s]),t[r]&&(e[r]=e[s]=t[r]),i.patchEventPrototype=ll,i.patchEventTarget=cl,i.isIEOrEdge=sl,i.ObjectDefineProperty=Fo,i.ObjectGetOwnPropertyDescriptor=$i,i.ObjectCreate=el,i.ArraySlice=tl,i.patchClass=zi,i.wrapWithCurrentZone=Ho,i.filterProperties=Xs,i.attachOriginToPatched=Ot,i._redefineProperty=Object.defineProperty,i.patchCallbacks=bl,i.getGlobalObjects=()=>({globalSources:qs,zoneSymbolEventNames:nt,eventNames:n,isBrowser:Go,isMix:zs,isNode:to,TRUE_STR:Dt,FALSE_STR:It,ZONE_SYMBOL_PREFIX:qi,ADD_EVENT_LISTENER_STR:jo,REMOVE_EVENT_LISTENER_STR:Vo})})}function yl(o){gl(o),_l(o),vl(o)}var Js=Jc();yl(Js);fl(Js);br(Kn,Ns).catch(o=>console.error(o));
