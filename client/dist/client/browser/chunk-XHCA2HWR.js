import{a as O}from"./chunk-4K6R7TMT.js";import{N as P,ca as F,da as R,ea as q,ha as T,ka as B,l as L,m as k,na as I,o as V,oa as W,pa as D,q as N,qa as j,ra as A,ta as z,ua as H,xa as G,ya as J}from"./chunk-UXKB2AF7.js";import{$b as y,Aa as v,Ab as h,Eb as t,Fb as i,Gb as b,Ib as E,Mb as M,Wb as f,Xa as x,Xb as o,Za as l,_b as _,ac as S,da as c,ja as p,jb as C,ka as u,ob as w,vb as g}from"./chunk-5GM2P44B.js";function K(s,n){s&1&&(t(0,"mat-error"),o(1,"Email is required"),i())}function Q(s,n){s&1&&(t(0,"mat-error"),o(1,"Password is required"),i())}var U=class s{email;password;authService=c(N);snackBar=c(O);router=c(L);hide=v(!0);login(){this.authService.login(this.email,this.password).subscribe({next:()=>{this.authService.me().subscribe(),this.snackBar.open("Login successful","Close",{duration:3e3})},error:n=>{let a=n.error,e=a.errors||a.message||a.error||n.error||"Login failed";typeof e=="object"&&(e=e.error||e.message||JSON.stringify(e)),this.snackBar.open(e,"Close",{duration:3e3})},complete:()=>{this.router.navigate(["/"])}})}togglePassword(n){this.hide.set(!this.hide()),n.stopPropagation()}static \u0275fac=function(a){return new(a||s)};static \u0275cmp=C({type:s,selectors:[["app-login"]],decls:30,vars:8,consts:[["userForm","ngForm"],["emailModel","ngModel"],["passwordModel","ngModel"],[1,"md:flex","justify-center","px-20","bg-white","gap-10",3,"ngSubmit"],[1,"h-auto","w-3/5","mt-8",2,"background-image","url('register.svg')","background-repeat","no-repeat","background-size","contain","background-position","bottom","background-color","white"],[1,"bg-white","m-10","rounded","w-1/4","flex","flex-col","gap-3","shadow-sm","dop-shadow-md"],[1,"text-center","mt-10"],[1,"material-icons","text-5xl","text-blue-500"],[1,"text-2xl","my-2","font-medium"],[1,"w-full","px-3"],["appearance","fill",1,"w-full"],["matInput","","required","","name","email","placeholder","Email",3,"ngModelChange","ngModel"],["matInput","","required","","name","password","placeholder","Password",3,"ngModelChange","type","ngModel"],["type","button","matSuffix","",1,"mat-icon-button",3,"click"],[1,"w-6","h-6","cursor-pointer",3,"src"],["type","submit",1,"w-full","mt-4","py-3","rounded-lg","font-semibold","text-lg","shadow-lg","hover:bg-blue-500","hover:text-white","transition-transform","hover:scale-105","bg-gray-50","text-blue-500","flex","items-center","justify-center","gap-2","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"text-center","text-sm","mt-4"],[1,"text-blue-500","hover:underline",3,"routerLink"]],template:function(a,e){if(a&1){let m=E();t(0,"form",3,0),M("ngSubmit",function(){return p(m),u(e.login())}),b(2,"div",4),t(3,"div",5)(4,"div",6)(5,"i",7),o(6,"login"),i(),t(7,"div",8),o(8," Login "),i()(),t(9,"div",9)(10,"mat-form-field",10)(11,"mat-label"),o(12,"Email"),i(),t(13,"input",11,1),S("ngModelChange",function(r){return p(m),y(e.email,r)||(e.email=r),u(r)}),i(),w(15,K,2,0,"mat-error"),i(),t(16,"mat-form-field",10)(17,"mat-label"),o(18,"Password"),i(),t(19,"input",12,2),S("ngModelChange",function(r){return p(m),y(e.password,r)||(e.password=r),u(r)}),i(),w(21,Q,2,0,"mat-error"),t(22,"button",13),M("click",function(r){return p(m),u(e.togglePassword(r))}),b(23,"img",14),i()(),t(24,"button",15),o(25," Login "),i(),t(26,"p",16),o(27," Don't have an account? "),t(28,"a",17),o(29,"Register"),i()()()()()}if(a&2){let m=f(1),d=f(14),r=f(20);l(13),_("ngModel",e.email),l(2),h(d.errors!=null&&d.errors.required?15:-1),l(4),g("type",e.hide()?"password":"text"),_("ngModel",e.password),l(2),h(r.errors!=null&&r.errors.required?21:-1),l(2),g("src",e.hide()?"icons8-eye-24.png":"icons8-hide-password-24.png",x),l(),g("disabled",!m.valid),l(4),g("routerLink","/register")}},dependencies:[J,G,T,F,R,q,P,H,A,B,I,W,z,j,D,V,k],encapsulation:2})};export{U as LoginComponent};
