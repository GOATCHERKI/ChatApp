import{a as te}from"./chunk-A6YLLC7P.js";import{O as B,da as D,ea as H,fa as U,ia as A,j as T,ja as z,la as G,m as W,n as j,oa as J,pa as O,q as S,qa as K,r as L,ra as Q,sa as X,ua as Y,va as Z,ya as $,za as ee}from"./chunk-KYQ2JXR3.js";import{$b as _,Aa as V,Ab as w,Eb as t,Fb as i,Gb as b,Ib as q,Mb as v,Wb as g,Xa as N,Xb as s,Z as R,Za as m,_b as y,ac as M,ca as F,da as f,ja as p,jb as I,ka as u,la as k,ma as P,ob as h,vb as c}from"./chunk-5GM2P44B.js";var C=class l{constructor(o){this.http=o}uploadImage(o){let a=new FormData;return a.append("file",o),a.append("upload_preset",S.cloudinary.uploadPreset),a.append("cloud_name",S.cloudinary.cloudName),this.http.post(`https://api.cloudinary.com/v1_1/${S.cloudinary.cloudName}/upload`,a)}static \u0275fac=function(a){return new(a||l)(F(T))};static \u0275prov=R({token:l,factory:l.\u0275fac,providedIn:"root"})};function ne(l,o){l&1&&(t(0,"mat-error"),s(1,"Email is required"),i())}function oe(l,o){l&1&&(t(0,"mat-error"),s(1,"User Name is required"),i())}function ae(l,o){l&1&&(t(0,"mat-error"),s(1,"Full Name is required"),i())}function le(l,o){l&1&&(t(0,"mat-error"),s(1,"Password is required"),i())}var re=class l{email;password;fullName;userName;profilePicture="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png";profilePictureFile=null;authService=f(L);snackBar=f(te);router=f(W);hide=V(!0);togglePassword(o){this.hide.set(!this.hide())}register(){let o=new FormData;o.append("email",this.email),o.append("fullName",this.fullName),o.append("userName",this.userName),o.append("password",this.password),o.append("profilePic",this.profilePictureFile),this.authService.register(o).subscribe({next:()=>{this.snackBar.open("Registration successful!","Close")},error:a=>{let e=a.error,r=e.errors||e.message||e.error||a.error||"Registration failed";typeof r=="object"&&(r=r.error||r.message||JSON.stringify(r)),this.snackBar.open(r,"Close")},complete:()=>{this.router.navigate(["/"])}})}cloudinaryService=f(C);onFileSelected(o){let a=o.target.files[0];if(a){this.profilePictureFile=a;let e=new FileReader;e.onload=r=>{this.profilePicture=r.target?.result},e.readAsDataURL(a),this.cloudinaryService.uploadImage(a).subscribe({next:r=>{this.profilePicture=r.secure_url,console.log("Uploaded to:",r.secure_url)},error:r=>console.error("Upload failed:",r)})}}static \u0275fac=function(a){return new(a||l)};static \u0275cmp=I({type:l,selectors:[["app-register"]],decls:50,vars:13,consts:[["userForm","ngForm"],["pic",""],["emailModel","ngModel"],["userNameModel","ngModel"],["fullNameModel","ngModel"],["passwordModel","ngModel"],[1,"md:flex","justify-center","px-20","bg-white","gap-10",3,"ngSubmit"],[1,"h-auto","w-3/5","mt-8",2,"background-image","url('register.svg')","background-repeat","no-repeat","background-size","contain","background-position","bottom","background-color","white"],[1,"bg-white","m-10","rounded","w-1/4","flex","flex-col","gap-3","shadow-sm","dop-shadow-md"],[1,"text-center"],[1,"flex","justify-center","relative"],[1,"w-24","h-24","rounded-full","bg-blue-200","object-cover","border-4","border-white","shadow-lg",3,"src"],["for","profilePictureInput",1,"absolute","bottom-2","right-2","cursor-pointer","group"],[1,"relative","flex","items-center","justify-center","w-10","h-10","rounded-full","bg-gradient-to-br","from-pink-500","via-purple-500","to-indigo-500","shadow-lg","border-2","border-white","backdrop-blur-md","transition-transform","group-hover:scale-110","group-hover:shadow-2xl"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.232 5.232l3.536 3.536M9 13h6m2 2a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v6a2 2 0 002 2h2m4 0v2a2 2 0 01-2 2H7a2 2 0 01-2-2v-2"],[1,"absolute","-top-8","left-1/2","-translate-x-1/2","px-2","py-1","text-xs","text-white","bg-black/70","rounded","opacity-0","group-hover:opacity-100","transition-opacity","pointer-events-none","select-none","whitespace-nowrap"],["id","profilePictureInput","type","file","accept","image/*",1,"hidden",3,"change"],[1,"text-2xl","my-2","font-medium"],[1,"w-full","px-3"],["appearance","fill",1,"w-full"],["matInput","","required","","name","email","placeholder","Email",3,"ngModelChange","ngModel"],["matInput","","required","","name","userName","placeholder","User Name",3,"ngModelChange","ngModel"],["matInput","","required","","name","fullName","placeholder","Full Name",3,"ngModelChange","ngModel"],["matInput","","required","","name","password","placeholder","Password",3,"ngModelChange","type","ngModel"],["type","button","matSuffix","",1,"mat-icon-button",3,"click"],[1,"w-6","h-6","cursor-pointer",3,"src"],["type","submit",1,"w-full","mt-4","py-3","rounded-lg","font-semibold","text-lg","shadow-lg","hover:bg-blue-500","hover:text-white","transition-transform","hover:scale-105","bg-gray-50","text-blue-500","flex","items-center","justify-center","gap-2","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"text-center","text-sm","mt-4"],[1,"text-blue-500","hover:underline",3,"routerLink"]],template:function(a,e){if(a&1){let r=q();t(0,"form",6,0),v("ngSubmit",function(){return p(r),u(e.register())}),b(2,"div",7),t(3,"div",8)(4,"div",9)(5,"div",10),b(6,"img",11),t(7,"label",12)(8,"span",13),k(),t(9,"svg",14),b(10,"path",15),i(),P(),t(11,"span",16),s(12,"Change photo"),i()(),t(13,"input",17,1),v("change",function(n){return p(r),u(e.onFileSelected(n))}),i()()(),t(15,"div",18),s(16," Register "),i()(),t(17,"div",19)(18,"mat-form-field",20)(19,"mat-label"),s(20,"Email"),i(),t(21,"input",21,2),M("ngModelChange",function(n){return p(r),_(e.email,n)||(e.email=n),u(n)}),i(),h(23,ne,2,0,"mat-error"),i(),t(24,"mat-form-field",20)(25,"mat-label"),s(26,"User Name"),i(),t(27,"input",22,3),M("ngModelChange",function(n){return p(r),_(e.userName,n)||(e.userName=n),u(n)}),i(),h(29,oe,2,0,"mat-error"),i(),t(30,"mat-form-field",20)(31,"mat-label"),s(32,"Full Name"),i(),t(33,"input",23,4),M("ngModelChange",function(n){return p(r),_(e.fullName,n)||(e.fullName=n),u(n)}),i(),h(35,ae,2,0,"mat-error"),i(),t(36,"mat-form-field",20)(37,"mat-label"),s(38,"Password"),i(),t(39,"input",24,5),M("ngModelChange",function(n){return p(r),_(e.password,n)||(e.password=n),u(n)}),i(),h(41,le,2,0,"mat-error"),t(42,"button",25),v("click",function(n){return p(r),u(e.togglePassword(n))}),b(43,"img",26),i()(),t(44,"button",27),s(45," Register "),i(),t(46,"p",28),s(47," Already have an account? "),t(48,"a",29),s(49,"Login"),i()()()()()}if(a&2){let r=g(1),d=g(22),n=g(28),x=g(34),E=g(40);m(6),c("src",e.profilePicture,N),m(15),y("ngModel",e.email),m(2),w(d.errors!=null&&d.errors.required?23:-1),m(4),y("ngModel",e.userName),m(2),w(n.errors!=null&&n.errors.required?29:-1),m(4),y("ngModel",e.fullName),m(2),w(x.errors!=null&&x.errors.required?35:-1),m(4),c("type",e.hide()?"password":"text"),y("ngModel",e.password),m(2),w(E.errors!=null&&E.errors.required?41:-1),m(2),c("src",e.hide()?"icons8-eye-24.png":"icons8-hide-password-24.png",N),m(),c("disabled",!r.valid),m(4),c("routerLink","/login")}},dependencies:[z,A,D,H,U,Z,X,G,J,O,Y,Q,K,ee,$,B,j],encapsulation:2})};export{re as RegisterComponent};
