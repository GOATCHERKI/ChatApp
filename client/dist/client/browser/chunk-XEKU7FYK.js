import{a as X}from"./chunk-4K6R7TMT.js";import{N as T,ca as W,da as L,ea as I,ha as B,ia as j,ka as D,l as P,m as V,na as U,oa as A,pa as H,q,qa as z,ra as G,ta as J,ua as O,xa as K,ya as Q}from"./chunk-UXKB2AF7.js";import{$b as _,Aa as R,Ab as h,Eb as t,Fb as r,Gb as w,Ib as F,Mb as S,Wb as c,Xa as v,Xb as a,Za as l,_b as b,ac as M,da as y,ja as p,jb as k,ka as u,la as x,ma as E,ob as f,vb as g}from"./chunk-5GM2P44B.js";function Z(m,o){m&1&&(t(0,"mat-error"),a(1,"Email is required"),r())}function $(m,o){m&1&&(t(0,"mat-error"),a(1,"User Name is required"),r())}function ee(m,o){m&1&&(t(0,"mat-error"),a(1,"Full Name is required"),r())}function te(m,o){m&1&&(t(0,"mat-error"),a(1,"Password is required"),r())}var Y=class m{email;password;fullName;userName;profilePicture="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png";profilePictureFile=null;authService=y(q);snackBar=y(X);router=y(P);hide=R(!0);togglePassword(o){this.hide.set(!this.hide())}register(){let o=new FormData;o.append("email",this.email),o.append("fullName",this.fullName),o.append("userName",this.userName),o.append("password",this.password),o.append("profilePic",this.profilePictureFile),this.authService.register(o).subscribe({next:()=>{this.snackBar.open("Registration successful!","Close")},error:s=>{let e=s.error,n=e.errors||e.message||e.error||s.error||"Registration failed";typeof n=="object"&&(n=n.error||n.message||JSON.stringify(n)),this.snackBar.open(n,"Close")},complete:()=>{this.router.navigate(["/"])}})}onFileSelected(o){let s=o.target.files[0];if(s){this.profilePictureFile=s;let e=new FileReader;e.onload=n=>{this.profilePicture=n.target?.result,console.log(n.target?.result)},e.readAsDataURL(s),console.log(this.profilePicture)}}static \u0275fac=function(s){return new(s||m)};static \u0275cmp=k({type:m,selectors:[["app-register"]],decls:50,vars:13,consts:[["userForm","ngForm"],["pic",""],["emailModel","ngModel"],["userNameModel","ngModel"],["fullNameModel","ngModel"],["passwordModel","ngModel"],[1,"md:flex","justify-center","px-20","bg-white","gap-10",3,"ngSubmit"],[1,"h-auto","w-3/5","mt-8",2,"background-image","url('register.svg')","background-repeat","no-repeat","background-size","contain","background-position","bottom","background-color","white"],[1,"bg-white","m-10","rounded","w-1/4","flex","flex-col","gap-3","shadow-sm","dop-shadow-md"],[1,"text-center"],[1,"flex","justify-center","relative"],[1,"w-24","h-24","rounded-full","bg-blue-200","object-cover","border-4","border-white","shadow-lg",3,"src"],["for","profilePictureInput",1,"absolute","bottom-2","right-2","cursor-pointer","group"],[1,"relative","flex","items-center","justify-center","w-10","h-10","rounded-full","bg-gradient-to-br","from-pink-500","via-purple-500","to-indigo-500","shadow-lg","border-2","border-white","backdrop-blur-md","transition-transform","group-hover:scale-110","group-hover:shadow-2xl"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.232 5.232l3.536 3.536M9 13h6m2 2a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v6a2 2 0 002 2h2m4 0v2a2 2 0 01-2 2H7a2 2 0 01-2-2v-2"],[1,"absolute","-top-8","left-1/2","-translate-x-1/2","px-2","py-1","text-xs","text-white","bg-black/70","rounded","opacity-0","group-hover:opacity-100","transition-opacity","pointer-events-none","select-none","whitespace-nowrap"],["id","profilePictureInput","type","file","accept","image/*",1,"hidden",3,"change"],[1,"text-2xl","my-2","font-medium"],[1,"w-full","px-3"],["appearance","fill",1,"w-full"],["matInput","","required","","name","email","placeholder","Email",3,"ngModelChange","ngModel"],["matInput","","required","","name","userName","placeholder","User Name",3,"ngModelChange","ngModel"],["matInput","","required","","name","fullName","placeholder","Full Name",3,"ngModelChange","ngModel"],["matInput","","required","","name","password","placeholder","Password",3,"ngModelChange","type","ngModel"],["type","button","matSuffix","",1,"mat-icon-button",3,"click"],[1,"w-6","h-6","cursor-pointer",3,"src"],["type","submit",1,"w-full","mt-4","py-3","rounded-lg","font-semibold","text-lg","shadow-lg","hover:bg-blue-500","hover:text-white","transition-transform","hover:scale-105","bg-gray-50","text-blue-500","flex","items-center","justify-center","gap-2","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"text-center","text-sm","mt-4"],[1,"text-blue-500","hover:underline",3,"routerLink"]],template:function(s,e){if(s&1){let n=F();t(0,"form",6,0),S("ngSubmit",function(){return p(n),u(e.register())}),w(2,"div",7),t(3,"div",8)(4,"div",9)(5,"div",10),w(6,"img",11),t(7,"label",12)(8,"span",13),x(),t(9,"svg",14),w(10,"path",15),r(),E(),t(11,"span",16),a(12,"Change photo"),r()(),t(13,"input",17,1),S("change",function(i){return p(n),u(e.onFileSelected(i))}),r()()(),t(15,"div",18),a(16," Register "),r()(),t(17,"div",19)(18,"mat-form-field",20)(19,"mat-label"),a(20,"Email"),r(),t(21,"input",21,2),M("ngModelChange",function(i){return p(n),_(e.email,i)||(e.email=i),u(i)}),r(),f(23,Z,2,0,"mat-error"),r(),t(24,"mat-form-field",20)(25,"mat-label"),a(26,"User Name"),r(),t(27,"input",22,3),M("ngModelChange",function(i){return p(n),_(e.userName,i)||(e.userName=i),u(i)}),r(),f(29,$,2,0,"mat-error"),r(),t(30,"mat-form-field",20)(31,"mat-label"),a(32,"Full Name"),r(),t(33,"input",23,4),M("ngModelChange",function(i){return p(n),_(e.fullName,i)||(e.fullName=i),u(i)}),r(),f(35,ee,2,0,"mat-error"),r(),t(36,"mat-form-field",20)(37,"mat-label"),a(38,"Password"),r(),t(39,"input",24,5),M("ngModelChange",function(i){return p(n),_(e.password,i)||(e.password=i),u(i)}),r(),f(41,te,2,0,"mat-error"),t(42,"button",25),S("click",function(i){return p(n),u(e.togglePassword(i))}),w(43,"img",26),r()(),t(44,"button",27),a(45," Register "),r(),t(46,"p",28),a(47," Already have an account? "),t(48,"a",29),a(49,"Login"),r()()()()()}if(s&2){let n=c(1),d=c(22),i=c(28),C=c(34),N=c(40);l(6),g("src",e.profilePicture,v),l(15),b("ngModel",e.email),l(2),h(d.errors!=null&&d.errors.required?23:-1),l(4),b("ngModel",e.userName),l(2),h(i.errors!=null&&i.errors.required?29:-1),l(4),b("ngModel",e.fullName),l(2),h(C.errors!=null&&C.errors.required?35:-1),l(4),g("type",e.hide()?"password":"text"),b("ngModel",e.password),l(2),h(N.errors!=null&&N.errors.required?41:-1),l(2),g("src",e.hide()?"icons8-eye-24.png":"icons8-hide-password-24.png",v),l(),g("disabled",!n.valid),l(4),g("routerLink","/login")}},dependencies:[j,B,W,L,I,O,G,D,U,A,J,z,H,Q,K,T,V],encapsulation:2})};export{Y as RegisterComponent};
